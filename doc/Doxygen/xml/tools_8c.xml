<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.18">
  <compounddef id="tools_8c" kind="file" language="C++">
    <compoundname>tools.c</compoundname>
    <includes refid="interface_8h" local="yes">interface.h</includes>
    <includes local="no">dirent.h</includes>
    <incdepgraph>
      <node id="32">
        <label>sys/stat.h</label>
      </node>
      <node id="28">
        <label>IO/ftiff.h</label>
      </node>
      <node id="13">
        <label>stdbool.h</label>
      </node>
      <node id="3">
        <label>fti.h</label>
        <link refid="fti_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>stdarg.h</label>
      </node>
      <node id="30">
        <label>failure-injection.h</label>
        <link refid="failure-injection_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="45">
        <label>../deps/jerasure/include/galois.h</label>
      </node>
      <node id="17">
        <label>postreco.h</label>
        <link refid="postreco_8h"/>
      </node>
      <node id="2">
        <label>interface.h</label>
        <link refid="interface_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>stdint.h</label>
      </node>
      <node id="6">
        <label>stdlib.h</label>
      </node>
      <node id="10">
        <label>errno.h</label>
      </node>
      <node id="38">
        <label>icp.h</label>
        <link refid="icp_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="33">
        <label>fcntl.h</label>
      </node>
      <node id="20">
        <label>conf.h</label>
        <link refid="conf_8h"/>
      </node>
      <node id="35">
        <label>postckpt.h</label>
        <link refid="postckpt_8h"/>
      </node>
      <node id="43">
        <label>../deps/iniparser/iniparser.h</label>
      </node>
      <node id="5">
        <label>stddef.h</label>
      </node>
      <node id="27">
        <label>IO/hdf5-fti.h</label>
      </node>
      <node id="15">
        <label>meta.h</label>
        <link refid="meta_8h"/>
      </node>
      <node id="34">
        <label>limits.h</label>
      </node>
      <node id="21">
        <label>checkpoint.h</label>
        <link refid="checkpoint_8h"/>
      </node>
      <node id="19">
        <label>dcp.h</label>
        <link refid="dcp_8h"/>
      </node>
      <node id="36">
        <label>recover.h</label>
        <link refid="recover_8h"/>
      </node>
      <node id="31">
        <label>sys/types.h</label>
      </node>
      <node id="8">
        <label>string.h</label>
      </node>
      <node id="40">
        <label>utility.h</label>
        <link refid="utility_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>/home/bscuser/Documents/release/dev/fti/src/tools.c</label>
        <link refid="tools_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
      </node>
      <node id="18">
        <label>tools.h</label>
        <link refid="tools_8h"/>
      </node>
      <node id="22">
        <label>stage.h</label>
        <link refid="stage_8h"/>
      </node>
      <node id="12">
        <label>unistd.h</label>
      </node>
      <node id="23">
        <label>fti-io.h</label>
        <link refid="fti-io_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>fti-intern.h</label>
        <link refid="fti-intern_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
      </node>
      <node id="41">
        <label>../deps/md5/md5.h</label>
      </node>
      <node id="44">
        <label>../deps/iniparser/dictionary.h</label>
      </node>
      <node id="26">
        <label>IO/posix-dcp.h</label>
      </node>
      <node id="25">
        <label>IO/posix.h</label>
      </node>
      <node id="46">
        <label>../deps/jerasure/include/jerasure.h</label>
      </node>
      <node id="14">
        <label>mpi.h</label>
      </node>
      <node id="29">
        <label>IO/ftiff-dcp.h</label>
      </node>
      <node id="42">
        <label>sion.h</label>
      </node>
      <node id="39">
        <label>macros.h</label>
        <link refid="macros_8h"/>
      </node>
      <node id="37">
        <label>fortran/ftif.h</label>
      </node>
      <node id="7">
        <label>stdio.h</label>
      </node>
      <node id="24">
        <label>topo.h</label>
        <link refid="topo_8h"/>
      </node>
      <node id="16">
        <label>api-cuda.h</label>
        <link refid="api-cuda_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="47">
        <label>dirent.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="tools_8c_1a7e21e961f7125132ee473d83c31dfe7f" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int FTI_filemetastructsize</definition>
        <argsstring></argsstring>
        <name>FTI_filemetastructsize</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>size of <ref refid="structFTIFF__db" kindref="compound">FTIFF_db</ref> struct in file <linebreak/>
 </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="42" column="5" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="42" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="tools_8c_1a19eb168398f314ff41716ef4de47e689" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int FTI_dbstructsize</definition>
        <argsstring></argsstring>
        <name>FTI_dbstructsize</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>size of <ref refid="structFTIFF__db" kindref="compound">FTIFF_db</ref> struct in file <linebreak/>
 </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="43" column="5" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="43" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="tools_8c_1a64296f986b5c5646a4e7a04ea5b07cf9" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int FTI_dbvarstructsize</definition>
        <argsstring></argsstring>
        <name>FTI_dbvarstructsize</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>size of <ref refid="structFTIFF__db" kindref="compound">FTIFF_db</ref> struct in file <linebreak/>
 </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="44" column="5" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="44" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="tools_8c_1ad95399f229aa8c9ae4aef2574d732f7d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int FTI_InitExecVars</definition>
        <argsstring>(FTIT_configuration *FTI_Conf, FTIT_execution *FTI_Exec, FTIT_topology *FTI_Topo, FTIT_checkpoint *FTI_Ckpt, FTIT_injection *FTI_Inje)</argsstring>
        <name>FTI_InitExecVars</name>
        <param>
          <type><ref refid="structFTIT__configuration" kindref="compound">FTIT_configuration</ref> *</type>
          <declname>FTI_Conf</declname>
        </param>
        <param>
          <type><ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref> *</type>
          <declname>FTI_Exec</declname>
        </param>
        <param>
          <type><ref refid="structFTIT__topology" kindref="compound">FTIT_topology</ref> *</type>
          <declname>FTI_Topo</declname>
        </param>
        <param>
          <type><ref refid="structFTIT__checkpoint" kindref="compound">FTIT_checkpoint</ref> *</type>
          <declname>FTI_Ckpt</declname>
        </param>
        <param>
          <type><ref refid="structFTIT__injection" kindref="compound">FTIT_injection</ref> *</type>
          <declname>FTI_Inje</declname>
        </param>
        <briefdescription>
<para>Init of the static variables. </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>integer FTI_SCES if successful.</para>
</simplesect>
This function initializes all static variables to zero. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="88" column="5" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="88" bodyend="236"/>
      </memberdef>
      <memberdef kind="function" id="tools_8c_1ad7413da2f3a603eb2da996ea201a7665" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int FTI_Checksum</definition>
        <argsstring>(FTIT_execution *FTI_Exec, FTIT_dataset *FTI_Data, FTIT_configuration *FTI_Conf, char *checksum)</argsstring>
        <name>FTI_Checksum</name>
        <param>
          <type><ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref> *</type>
          <declname>FTI_Exec</declname>
        </param>
        <param>
          <type><ref refid="structFTIT__dataset" kindref="compound">FTIT_dataset</ref> *</type>
          <declname>FTI_Data</declname>
        </param>
        <param>
          <type><ref refid="structFTIT__configuration" kindref="compound">FTIT_configuration</ref> *</type>
          <declname>FTI_Conf</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>checksum</declname>
        </param>
        <briefdescription>
<para>It calculates checksum of the checkpoint file. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>FTI_Exec</parametername>
</parameternamelist>
<parameterdescription>
<para>Execution metadata. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>FTI_Data</parametername>
</parameternamelist>
<parameterdescription>
<para>Dataset metadata. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>checksum</parametername>
</parameternamelist>
<parameterdescription>
<para>Checksum that is calculated. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>integer FTI_SCES if successful.</para>
</simplesect>
This function calculates checksum of the checkpoint file based on MD5 algorithm and saves it in checksum. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="252" column="5" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="252" bodyend="263"/>
      </memberdef>
      <memberdef kind="function" id="tools_8c_1a0abe7d90a75d724af67071b5a672785d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int FTI_VerifyChecksum</definition>
        <argsstring>(char *fileName, char *checksumToCmp)</argsstring>
        <name>FTI_VerifyChecksum</name>
        <param>
          <type>char *</type>
          <declname>fileName</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>checksumToCmp</declname>
        </param>
        <briefdescription>
<para>It compares checksum of the checkpoint file. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>fileName</parametername>
</parameternamelist>
<parameterdescription>
<para>Filename of the checkpoint. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>checksumToCmp</parametername>
</parameternamelist>
<parameterdescription>
<para>Checksum to compare. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>integer FTI_SCES if successful.</para>
</simplesect>
This function calculates checksum of the checkpoint file based on MD5 algorithm. It compares calculated hash value with the one saved in the file. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="278" column="5" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="278" bodyend="321"/>
        <references refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" compoundref="fti_8h" startline="12">FTI_BUFS</references>
        <references refid="fti_8h_1a06d23a2210e17078a6a8862bb6ed3dbd" compoundref="fti_8h" startline="20">FTI_NSCS</references>
        <references refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" compoundref="api_8c" startline="2545" endline="2573">FTI_Print</references>
        <references refid="fti_8h_1a8c1f0a06b877c18a7270d54c5e6039cf" compoundref="fti_8h" startline="18">FTI_SCES</references>
        <references refid="fti-intern_8h_1a93eeeef1e283517099194859e3811ea3" compoundref="fti-intern_8h" startline="59">FTI_WARN</references>
        <references refid="fti-intern_8h_1a09a4f4b2f28cbe522d9b80153666029c" compoundref="fti-intern_8h" startline="41">MD5_DIGEST_LENGTH</references>
        <references refid="fti-intern_8h_1ab7d658b118c653d9a61ef6adde6a80c7" compoundref="fti-intern_8h" startline="43">MD5_DIGEST_STRING_LENGTH</references>
      </memberdef>
      <memberdef kind="function" id="tools_8c_1a950803008f7cef4892fbba9b2069928e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int FTI_Try</definition>
        <argsstring>(int result, char *message)</argsstring>
        <name>FTI_Try</name>
        <param>
          <type>int</type>
          <declname>result</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>message</declname>
        </param>
        <briefdescription>
<para>It receives the return code of a function and prints a message. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>result</parametername>
</parameternamelist>
<parameterdescription>
<para>Result to check. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>message</parametername>
</parameternamelist>
<parameterdescription>
<para>Message to print. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>integer The same result as passed in parameter.</para>
</simplesect>
This function checks the result from a function and then decides to print the message either as a debug message or as a warning. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="335" column="5" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="335" bodyend="349"/>
        <references refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" compoundref="fti_8h" startline="12">FTI_BUFS</references>
        <references refid="fti-intern_8h_1a299db837571db9e73119d159b3428fe0" compoundref="fti-intern_8h" startline="65">FTI_DBUG</references>
        <references refid="fti_8h_1a7dee5a1994faa8e4a2664942d4d8c024" compoundref="fti_8h" startline="16">FTI_DONE</references>
        <references refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" compoundref="api_8c" startline="2545" endline="2573">FTI_Print</references>
        <references refid="fti_8h_1a8c1f0a06b877c18a7270d54c5e6039cf" compoundref="fti_8h" startline="18">FTI_SCES</references>
        <references refid="fti-intern_8h_1a93eeeef1e283517099194859e3811ea3" compoundref="fti-intern_8h" startline="59">FTI_WARN</references>
      </memberdef>
      <memberdef kind="function" id="tools_8c_1a803fddbbbdc2e160a5cb4249100e8a00" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FTI_MallocMeta</definition>
        <argsstring>(FTIT_execution *FTI_Exec, FTIT_topology *FTI_Topo)</argsstring>
        <name>FTI_MallocMeta</name>
        <param>
          <type><ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref> *</type>
          <declname>FTI_Exec</declname>
        </param>
        <param>
          <type><ref refid="structFTIT__topology" kindref="compound">FTIT_topology</ref> *</type>
          <declname>FTI_Topo</declname>
        </param>
        <briefdescription>
<para>It mallocs memory for the metadata. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>FTI_Exec</parametername>
</parameternamelist>
<parameterdescription>
<para>Execution metadata. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>FTI_Topo</parametername>
</parameternamelist>
<parameterdescription>
<para>Topology metadata.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
This function mallocs the memory used for the metadata storage. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="361" column="6" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="361" bodyend="394"/>
      </memberdef>
      <memberdef kind="function" id="tools_8c_1a099b42118594b7ec8469348819bfaf93" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FTI_FreeMeta</definition>
        <argsstring>(FTIT_execution *FTI_Exec)</argsstring>
        <name>FTI_FreeMeta</name>
        <param>
          <type><ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref> *</type>
          <declname>FTI_Exec</declname>
        </param>
        <briefdescription>
<para>It frees memory for the metadata. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>FTI_Exec</parametername>
</parameternamelist>
<parameterdescription>
<para>Execution metadata.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
This function frees the memory used for the metadata storage. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="405" column="6" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="405" bodyend="423"/>
      </memberdef>
      <memberdef kind="function" id="tools_8c_1ad41f9b1988730c56c052047cfb3f6283" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int FTI_InitGroupsAndTypes</definition>
        <argsstring>(FTIT_execution *FTI_Exec)</argsstring>
        <name>FTI_InitGroupsAndTypes</name>
        <param>
          <type><ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref> *</type>
          <declname>FTI_Exec</declname>
        </param>
        <briefdescription>
<para>It mallocs memory for the metadata. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>FTI_Exec</parametername>
</parameternamelist>
<parameterdescription>
<para>Execution metadata. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>FTI_Topo</parametername>
</parameternamelist>
<parameterdescription>
<para>Topology metadata.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
This function mallocs the memory used for the metadata storage. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="435" column="5" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="435" bodyend="458"/>
      </memberdef>
      <memberdef kind="function" id="tools_8c_1a152b83c7a93371bef4f0bcbe34620d6e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FTI_FreeTypesAndGroups</definition>
        <argsstring>(FTIT_execution *FTI_Exec)</argsstring>
        <name>FTI_FreeTypesAndGroups</name>
        <param>
          <type><ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref> *</type>
          <declname>FTI_Exec</declname>
        </param>
        <briefdescription>
<para>It frees memory for the types. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>FTI_Exec</parametername>
</parameternamelist>
<parameterdescription>
<para>Execution metadata.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
This function frees the memory used for the type storage. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="469" column="6" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="469" bodyend="484"/>
      </memberdef>
      <memberdef kind="function" id="tools_8c_1a924446571112185f563d5ec1e386afb1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int FTI_InitBasicTypes</definition>
        <argsstring>(FTIT_dataset *FTI_Data)</argsstring>
        <name>FTI_InitBasicTypes</name>
        <param>
          <type><ref refid="structFTIT__dataset" kindref="compound">FTIT_dataset</ref> *</type>
          <declname>FTI_Data</declname>
        </param>
        <briefdescription>
<para>It creates the basic datatypes and the dataset array. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>FTI_Data</parametername>
</parameternamelist>
<parameterdescription>
<para>Dataset metadata. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>integer FTI_SCES if successful.</para>
</simplesect>
This function creates the basic data types using FTIT_Type. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="496" column="5" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="496" bodyend="515"/>
      </memberdef>
      <memberdef kind="function" id="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int FTI_RmDir</definition>
        <argsstring>(char path[FTI_BUFS], int flag)</argsstring>
        <name>FTI_RmDir</name>
        <param>
          <type>char</type>
          <declname>path</declname>
          <array>[FTI_BUFS]</array>
        </param>
        <param>
          <type>int</type>
          <declname>flag</declname>
        </param>
        <briefdescription>
<para>It erases a directory and all its files. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>path</parametername>
</parameternamelist>
<parameterdescription>
<para>Path to the directory we want to erase. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>flag</parametername>
</parameternamelist>
<parameterdescription>
<para>Set to 1 to activate. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>integer FTI_SCES if successful.</para>
</simplesect>
This function erases a directory and all its files. It focusses on the checkpoint directories created by FTI so it does NOT handle recursive erasing if the given directory includes other directories. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="530" column="5" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="530" bodyend="574"/>
        <references refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" compoundref="fti_8h" startline="12">FTI_BUFS</references>
        <references refid="fti-intern_8h_1a299db837571db9e73119d159b3428fe0" compoundref="fti-intern_8h" startline="65">FTI_DBUG</references>
        <references refid="fti-intern_8h_1a5cb1252ae17ef4ac13b3dbe5a8b1ab13" compoundref="fti-intern_8h" startline="57">FTI_EROR</references>
        <references refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" compoundref="api_8c" startline="2545" endline="2573">FTI_Print</references>
        <references refid="fti_8h_1a8c1f0a06b877c18a7270d54c5e6039cf" compoundref="fti_8h" startline="18">FTI_SCES</references>
      </memberdef>
      <memberdef kind="function" id="tools_8c_1a09811bb56f318eab67b3d37bff86cf7f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int FTI_Clean</definition>
        <argsstring>(FTIT_configuration *FTI_Conf, FTIT_topology *FTI_Topo, FTIT_checkpoint *FTI_Ckpt, int level)</argsstring>
        <name>FTI_Clean</name>
        <param>
          <type><ref refid="structFTIT__configuration" kindref="compound">FTIT_configuration</ref> *</type>
          <declname>FTI_Conf</declname>
        </param>
        <param>
          <type><ref refid="structFTIT__topology" kindref="compound">FTIT_topology</ref> *</type>
          <declname>FTI_Topo</declname>
        </param>
        <param>
          <type><ref refid="structFTIT__checkpoint" kindref="compound">FTIT_checkpoint</ref> *</type>
          <declname>FTI_Ckpt</declname>
        </param>
        <param>
          <type>int</type>
          <declname>level</declname>
        </param>
        <briefdescription>
<para>It erases the previous checkpoints and their metadata. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>FTI_Conf</parametername>
</parameternamelist>
<parameterdescription>
<para>Configuration metadata. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>FTI_Topo</parametername>
</parameternamelist>
<parameterdescription>
<para>Topology metadata. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>FTI_Ckpt</parametername>
</parameternamelist>
<parameterdescription>
<para>Checkpoint metadata. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>level</parametername>
</parameternamelist>
<parameterdescription>
<para>Level of cleaning. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>integer FTI_SCES if successful.</para>
</simplesect>
This function erases previous checkpoint depending on the level of the current checkpoint. Level 5 means complete clean up. Level 6 means clean up local nodes but keep last checkpoint data and metadata in the PFS. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="591" column="5" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="591" bodyend="664"/>
      </memberdef>
      <memberdef kind="function" id="tools_8c_1a96133f2b1c778f7090abcbc186490b69" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>char *</type>
        <definition>char* FTI_GetHashHexStr</definition>
        <argsstring>(unsigned char *hash, int digestWidth, char *hashHexStr)</argsstring>
        <name>FTI_GetHashHexStr</name>
        <param>
          <type>unsigned char *</type>
          <declname>hash</declname>
        </param>
        <param>
          <type>int</type>
          <declname>digestWidth</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>hashHexStr</declname>
        </param>
        <briefdescription>
<para>generates hex string representation of hash digest. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>char*</parametername>
</parameternamelist>
<parameterdescription>
<para>hash digest </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>int</parametername>
</parameternamelist>
<parameterdescription>
<para>digest width </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>char* hex string of hash </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="674" column="6" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="674" bodyend="687"/>
        <references refid="fti-intern_8h_1ab7d658b118c653d9a61ef6adde6a80c7" compoundref="fti-intern_8h" startline="43">MD5_DIGEST_STRING_LENGTH</references>
      </memberdef>
      <memberdef kind="function" id="tools_8c_1af04f21cd048b6ecd053b1e9630a79d84" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int FTI_FindVarInMeta</definition>
        <argsstring>(FTIT_execution *FTI_Exec, FTIT_dataset *FTI_Data, int id, int *currentIndex, int *oldIndex)</argsstring>
        <name>FTI_FindVarInMeta</name>
        <param>
          <type><ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref> *</type>
          <declname>FTI_Exec</declname>
        </param>
        <param>
          <type><ref refid="structFTIT__dataset" kindref="compound">FTIT_dataset</ref> *</type>
          <declname>FTI_Data</declname>
        </param>
        <param>
          <type>int</type>
          <declname>id</declname>
        </param>
        <param>
          <type>int *</type>
          <declname>currentIndex</declname>
        </param>
        <param>
          <type>int *</type>
          <declname>oldIndex</declname>
        </param>
        <briefdescription>
<para>Finds the the id of a protected variable in the metadata file . </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>FTI_Exec*</parametername>
</parameternamelist>
<parameterdescription>
<para>Checkpoint execution data </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername><ref refid="structFTIT__dataset" kindref="compound">FTIT_dataset</ref></parametername>
</parameternamelist>
<parameterdescription>
<para>Information regarding the protected variables. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>int</parametername>
</parameternamelist>
<parameterdescription>
<para>id Variable id we are searching for </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>int</parametername>
</parameternamelist>
<parameterdescription>
<para>*currentIndex The variable index of the found variable in FTI_Data structure </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>int</parametername>
</parameternamelist>
<parameterdescription>
<para>*oldIndex The variable index of the found variable in FTI_metadata structure </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>int FTI_SCES on succefully finding a variable</para>
</simplesect>
This function matches the index of a current protected variable with the index of a variable protected on the previous execution (Recovery) </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c" line="704" column="5" bodyfile="/home/bscuser/Documents/release/dev/fti/src/tools.c" bodystart="704" bodyend="731"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Utility functions for the FTI library. </para>
    </briefdescription>
    <detaileddescription>
<para>Copyright (c) 2017 Leonardo A. Bautista-Gomez All rights reserved</para>
<para>FTI - A multi-level checkpointing library for C/C++/Fortran applications</para>
<para>Revision 1.0 : Fault Tolerance Interface (FTI)</para>
<para>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</para>
<para><orderedlist>
<listitem><para>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</para>
</listitem><listitem><para>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</para>
</listitem><listitem><para>Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</para>
</listitem></orderedlist>
</para>
<para>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</para>
<para><simplesect kind="date"><para>October, 2017 </para>
</simplesect>
</para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="39"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="interface_8h" kindref="compound">interface.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;dirent.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42" refid="tools_8c_1a7e21e961f7125132ee473d83c31dfe7f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1a7e21e961f7125132ee473d83c31dfe7f" kindref="member">FTI_filemetastructsize</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="43" refid="tools_8c_1a19eb168398f314ff41716ef4de47e689" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1a19eb168398f314ff41716ef4de47e689" kindref="member">FTI_dbstructsize</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="44" refid="tools_8c_1a64296f986b5c5646a4e7a04ea5b07cf9" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1a64296f986b5c5646a4e7a04ea5b07cf9" kindref="member">FTI_dbvarstructsize</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="46"><highlight class="preprocessor">#ifdef<sp/>ENABLE_HDF5</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>FTI_DebugCheckOpenObjects(hid_t<sp/>fid,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rank)<sp/>{</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ssize_t<sp/>cnt;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>howmany;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>H5I_type_t<sp/>ot;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hid_t<sp/>anobj;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hid_t<sp/>*objs;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>name[1024];</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cnt<sp/>=<sp/>H5Fget_obj_count(fid,<sp/>H5F_OBJ_ALL);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cnt<sp/>&lt;=<sp/>0)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>cnt;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fti-intern_8h_1aa98b567f2c0a1039c9490472975ce96d" kindref="member">DBG_MSG</ref>(</highlight><highlight class="stringliteral">&quot;%ld<sp/>object(s)<sp/>open&quot;</highlight><highlight class="normal">,<sp/>rank,<sp/>cnt);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>objs<sp/>=<sp/>malloc(cnt<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(hid_t));</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>howmany<sp/>=<sp/>H5Fget_obj_ids(fid,<sp/>H5F_OBJ_ALL,<sp/>cnt,<sp/>objs);</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fti-intern_8h_1aa98b567f2c0a1039c9490472975ce96d" kindref="member">DBG_MSG</ref>(</highlight><highlight class="stringliteral">&quot;open<sp/>objects:&quot;</highlight><highlight class="normal">,<sp/>rank);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>howmany;<sp/>i++<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>anobj<sp/>=<sp/>*objs++;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ot<sp/>=<sp/>H5Iget_type(anobj);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>H5Iget_name(anobj,<sp/>name,<sp/>1024);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="fti-intern_8h_1aa98b567f2c0a1039c9490472975ce96d" kindref="member">DBG_MSG</ref>(</highlight><highlight class="stringliteral">&quot;<sp/>%d:<sp/>type<sp/>%d,<sp/>name<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>rank,<sp/>i,ot,name);</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>howmany;</highlight></codeline>
<codeline lineno="76"><highlight class="normal">}</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="87"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88" refid="tools_8h_1ad95399f229aa8c9ae4aef2574d732f7d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1ad95399f229aa8c9ae4aef2574d732f7d" kindref="member">FTI_InitExecVars</ref>(<ref refid="structFTIT__configuration" kindref="compound">FTIT_configuration</ref>*<sp/>FTI_Conf,<sp/><ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref>*<sp/>FTI_Exec,</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structFTIT__topology" kindref="compound">FTIT_topology</ref>*<sp/>FTI_Topo,<sp/><ref refid="structFTIT__checkpoint" kindref="compound">FTIT_checkpoint</ref>*<sp/>FTI_Ckpt,</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structFTIT__injection" kindref="compound">FTIT_injection</ref>*<sp/>FTI_Inje)<sp/>{</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>datablock<sp/>size<sp/>in<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tools_8c_1a7e21e961f7125132ee473d83c31dfe7f" kindref="member">FTI_filemetastructsize</ref></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="fti-intern_8h_1ab7d658b118c653d9a61ef6adde6a80c7" kindref="member">MD5_DIGEST_STRING_LENGTH</ref></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/><ref refid="fti-intern_8h_1a09a4f4b2f28cbe522d9b80153666029c" kindref="member">MD5_DIGEST_LENGTH</ref></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>7*</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(long)</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>RS<sp/>L3<sp/>only<sp/>works<sp/>for<sp/>even<sp/>file<sp/>sizes.<sp/>This<sp/>accounts<sp/>for<sp/>many<sp/>but<sp/>clearly<sp/>not<sp/>all<sp/>cases.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>to<sp/>fix.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tools_8c_1a7e21e961f7125132ee473d83c31dfe7f" kindref="member">FTI_filemetastructsize</ref><sp/>+=<sp/>2<sp/>-<sp/><ref refid="tools_8c_1a7e21e961f7125132ee473d83c31dfe7f" kindref="member">FTI_filemetastructsize</ref>%2;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tools_8c_1a19eb168398f314ff41716ef4de47e689" kindref="member">FTI_dbstructsize</ref></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(int)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>numvars<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>dbsize<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="tools_8c_1a64296f986b5c5646a4e7a04ea5b07cf9" kindref="member">FTI_dbvarstructsize</ref></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>3*</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(int)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>numvars<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>2*</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>2*</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(uintptr_t)</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>2*</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/><ref refid="fti-intern_8h_1a09a4f4b2f28cbe522d9b80153666029c" kindref="member">MD5_DIGEST_LENGTH</ref>;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>+---------<sp/>+</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>|<sp/>FTI_Exec<sp/>|</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>+---------<sp/>+</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>char[BUFS]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;id<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(FTI_Exec-&gt;<ref refid="structFTIT__execution_1aec5756dc8e79d7d68ad0033c604ec423" kindref="member">id</ref>,0x0,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>);</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a752b91211397ec95434a69c45751c38e" kindref="member">ckpt</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a061085b1c93b22c4fafbe527e7b1f165" kindref="member">reco</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a19a4f92c1d8dd2c86350f59eb7372ca8" kindref="member">ckptLvel</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a7e235bbde55b64b0d2e02ec4b6a0385b" kindref="member">ckptIntv</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a92ac9b3e26177d2e59ecfc83a4e460b9" kindref="member">lastCkptLvel</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a5f9c804789b75f8a3cab11fb1685c106" kindref="member">wasLastOffline</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>double<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1ae9be8c33108533c9cd149d2d5adc6d24" kindref="member">iterTime</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>double<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a1c67a1709692a2b474a481ab3641fd8c" kindref="member">lastIterTime</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>double<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1acdd557ecfd65eaebfbee74ea0a1a1a02" kindref="member">meanIterTime</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>double<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a8b37e551e657be4102f47d2362ffe712" kindref="member">globMeanIter</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>double<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a1a0ae3ba0820ef65eb3a877d770f1140" kindref="member">totalIterTime</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unsigned<sp/>int<sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a192a80b7776855ab4e720c4ea08d67e8" kindref="member">syncIter</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1ac29bc3aae18a933e29e3168d7c23f750" kindref="member">syncIterMax</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unsigned<sp/>int<sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a92de914c1975228186170ee0a2ab650a" kindref="member">minuteCnt</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>bool<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a6b8b6b1922b2561d237b1097a2ea14ef" kindref="member">hasCkpt</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=</highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unsigned<sp/>int<sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a590db72f82171781a3ac02de59b350f6" kindref="member">ckptCnt</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unsigned<sp/>int<sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1ab2c8d7fc648d2fc4f9812da6bbf45c6f" kindref="member">ckptIcnt</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unsigned<sp/>int<sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1afe4ababcb4c2ea0a21a87b237f8d7a00" kindref="member">ckptID</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unsigned<sp/>int<sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a753ca607f3813ca1fa4e24f6c50c8902" kindref="member">ckptNext</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unsigned<sp/>int<sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1ad624914e1aea7eceb3d6217a5ced3114" kindref="member">ckptLast</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>long<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a19693c7f3a31b31d90a40dcf7fc34183" kindref="member">ckptSize</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unsigned<sp/>int<sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a97f8b8aebedb2904ad10a18a5a90574f" kindref="member">nbVar</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unsigned<sp/>int<sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a71e5e8245d74f582eaf9442d2c4dcfe6" kindref="member">nbVarStored</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unsigned<sp/>int<sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1ae9e0a0b1ee8bd41e2b6251a597b47d26" kindref="member">nbType</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1adac530c5483b2c64d1553918e2d59e39" kindref="member">metaAlloc</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a5ff8dd064b2a4cc4b7272abddacb8cc1" kindref="member">initSCES</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>char[BUFS]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;h5SingleFileLast<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/>memset(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a5bd4a354d5e78ee925f8b69a94ed2812" kindref="member">h5SingleFileLast</ref>,0x0,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>);</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>char[BUFS]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;h5SingleFileReco<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/>memset(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a8cd3cee6e7fd29ee3ea43882a3438623" kindref="member">h5SingleFileReco</ref>,0x0,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>);</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>FTIT_iCPInfo<sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;iCPInfo<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(&amp;(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a60384be16093e9c57bed8078cc5b7b2b" kindref="member">iCPInfo</ref>),0x0,</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structFTIT__iCPInfo" kindref="compound">FTIT_iCPInfo</ref>));</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>FTIT_metadata[5]<sp/>FTI_Exec-&gt;meta<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>,0x0,5*</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structFTIT__metadata" kindref="compound">FTIT_metadata</ref>));</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>FTIFF_db<sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1af70b8d16318e9a3dad800a84bf2d686c" kindref="member">firstdb</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=NULL;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>FTIFF_db<sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1ad59b01935dd4a0b4f6766cc4aa26aeb8" kindref="member">lastdb</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=NULL;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>FTIT_globalDataset<sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1ab742b517dd48ed019f0629f231cf70c4" kindref="member">globalDatasets</ref><sp/><sp/><sp/>=NULL;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a375349b5e9e834a60929b760443e9425" kindref="member">stageInfo</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=NULL;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>FTIFF_metaInfo<sp/><sp/><sp/>FTI_Exec-&gt;FTIFFMeta<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(&amp;(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a4516e35484d3cf4777b95303f3948f03" kindref="member">FTIFFMeta</ref>),0x0,</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structFTIFF__metaInfo" kindref="compound">FTIFF_metaInfo</ref>));</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a4516e35484d3cf4777b95303f3948f03" kindref="member">FTIFFMeta</ref>.<ref refid="structFTIFF__metaInfo_1a53e5eb8d4d7dc1176ff215bd788a70f4" kindref="member">metaSize</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="tools_8c_1a7e21e961f7125132ee473d83c31dfe7f" kindref="member">FTI_filemetastructsize</ref>;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>MPI_Comm<sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a9cbca3e2e49bb808bc73569db3fdecb2" kindref="member">globalComm</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>MPI_Comm<sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a309b3da6e358cb96e736d392a56327dd" kindref="member">groupComm</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>MPI_Comm<sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a2989b4148c5ef93b8ae18bfe84c3cc59" kindref="member">dcpInfoPosix</ref>.<ref refid="structFTIT__dcpExecutionPosix_1ad36c5198a70a07f5444ce73b9accafc3" kindref="member">Counter</ref><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>MPI_Comm<sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a2989b4148c5ef93b8ae18bfe84c3cc59" kindref="member">dcpInfoPosix</ref>.<ref refid="structFTIT__dcpExecutionPosix_1aef8910acedc2a23ea1c88a8a891808a8" kindref="member">FileSize</ref><sp/>=0;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a2989b4148c5ef93b8ae18bfe84c3cc59" kindref="member">dcpInfoPosix</ref>.<ref refid="structFTIT__dcpExecutionPosix_1aafdd6f004c3e110bfda51d89dc651d7c" kindref="member">LayerSize</ref>,<sp/>0x0,<sp/><ref refid="fti-intern_8h_1accbb358028675c83675d8b34c386268d" kindref="member">MAX_STACK_SIZE</ref>*</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a2989b4148c5ef93b8ae18bfe84c3cc59" kindref="member">dcpInfoPosix</ref>.<ref refid="structFTIT__dcpExecutionPosix_1ade63eda0939e7b4657d565ba3eed536f" kindref="member">LayerHash</ref>,<sp/>0x0,<sp/><ref refid="fti-intern_8h_1accbb358028675c83675d8b34c386268d" kindref="member">MAX_STACK_SIZE</ref>*<ref refid="fti-intern_8h_1ab7d658b118c653d9a61ef6adde6a80c7" kindref="member">MD5_DIGEST_STRING_LENGTH</ref>);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>+---------<sp/>+</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>|<sp/>FTI_Conf<sp/>|</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>+---------<sp/>+</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>char[BUFS]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Conf-&gt;cfgFile<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1af677514300ce3b22d4a5d291c3f9d2ee" kindref="member">cfgFile</ref>,0x0,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>);</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1affcbd54643b6e0e594249799fed2517d" kindref="member">saveLastCkpt</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a2776919d74dd1310a03eb046a1c16d0f" kindref="member">verbosity</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a388a402d2c954a06bdad3c01da65649e" kindref="member">blockSize</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a090ca8bd3b6c624641bad1cb94678167" kindref="member">transferSize</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>LUSTRE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;stripeUnit<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;stripeOffset<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;stripeFactor<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>bool<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1aade25d97154976c2efbf75f1343fada5" kindref="member">keepL4Ckpt</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>bool<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1ab72c57178235b8d749f88350ea2e248f" kindref="member">h5SingleFileEnable</ref><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a78ac66926a7bc33c451303033995b04c" kindref="member">ckptTag</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a6f1b79f826e4ced2ac4faad025cc6c5d" kindref="member">stageTag</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1abea01ca900054821ac64628715357082" kindref="member">finalTag</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1ae11893be3341d992d9722a21c00eddd4" kindref="member">generalTag</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1ae2196814ada1f4c5f8d78f34812bc4c1" kindref="member">test</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a5c2ce69a1a6fd591cb67831ac7da56b2" kindref="member">l3WordSize</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a5853fc734fbdc50680125595e6cc4f74" kindref="member">ioMode</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>char[BUFS]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Conf-&gt;localDir<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a016dadf213155c54820771627930cb68" kindref="member">localDir</ref>,0x0,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>char[BUFS]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Conf-&gt;glbalDir<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a9f5fdc68c73f688072cc4eb32d1ed9e7" kindref="member">glbalDir</ref>,0x0,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>);</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>char[BUFS]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Conf-&gt;metadDir<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a0a5da07618e9a1963840fc8a2367580c" kindref="member">metadDir</ref>,0x0,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>char[BUFS]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Conf-&gt;lTmpDir<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a06bfe0fcd4a7ad1e247e1b3d235bfe01" kindref="member">lTmpDir</ref>,0x0,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>char[BUFS]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Conf-&gt;gTmpDir<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1ab5c4f469d7c85ea0efe36f891be796fa" kindref="member">gTmpDir</ref>,0x0,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>);</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>char[BUFS]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Conf-&gt;mTmpDir<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a1ba7082e4d7617485a3d314756e97101" kindref="member">mTmpDir</ref>,0x0,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>);</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>+---------<sp/>+</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>|<sp/>FTI_Topo<sp/>|</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>+---------<sp/>+</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1a1ea262b4b51c8134cc3fec8fda8b1836" kindref="member">nbProc</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ae95183051d84d1ee105771251c27d0b6" kindref="member">nbNodes</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1afd9e834e60e98abbce232192a38a7d58" kindref="member">myRank</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1a3d4083051c43d031972d83cffb242a38" kindref="member">splitRank</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab25ad2efd2edfe685bf3a5c8db4a4275" kindref="member">nodeSize</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ae6c9d66ebe7506e56262bfdd65628ac8" kindref="member">nbHeads</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab2b0c3441e7d43d243de5fefb4d8bf5d" kindref="member">nbApprocs</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1a3b3935614c24137493f43615cd8b4f8b" kindref="member">groupSize</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1aac0b7bf67b26177e8fa451715e8c1627" kindref="member">sectorID</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1a1609f0606f6b7957f1e1b321e2fdb5af" kindref="member">nodeID</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1aac2b0e68e669ae2b5f93cfdc2b938d5a" kindref="member">groupID</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ad44da908f25f84e0dc29086b77b37d8d" kindref="member">amIaHead</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ad6b000c681a3230febbc5829c6ad9247" kindref="member">headRank</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1a39761a9bc4ad6d0ca46b7ca82593c175" kindref="member">nodeRank</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ae8e3386463c1ce97ca24713c7d47b9b4" kindref="member">groupRank</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab7e5bb797fc3a2066f0db3b3e3e3297c" kindref="member">right</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1afabfbf43460d6493b05efe06d80572d8" kindref="member">left</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int[BUFS]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Topo-&gt;body<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(FTI_Topo-&gt;<ref refid="structFTIT__topology_1a2f5a76c767d70a27b5741fd08582c839" kindref="member">body</ref>,0x0,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>*</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>+---------<sp/>+</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>|<sp/>FTI_Ckpt<sp/>|</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>+---------<sp/>+</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>FTIT_Ckpt[5]<sp/><sp/><sp/><sp/><sp/>FTI_Ckpt<sp/>Array<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(FTI_Ckpt,0x0,</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structFTIT__checkpoint" kindref="compound">FTIT_checkpoint</ref>)*5);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Ckpt[4].<ref refid="structFTIT__checkpoint_1a2e5377d7aa3c3342b6d633bb1f3afb70" kindref="member">isDcp</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=</highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"><sp/>FTI_Ckpt[4].<ref refid="structFTIT__checkpoint_1a8336518289c762d2a480a45b5f28a5af" kindref="member">hasDcp</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=</highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>+---------<sp/>+</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>|<sp/>FTI_Injc<sp/>|</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>+---------<sp/>+</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/<sp/>FTI_Injc-&gt;rank<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/<sp/>FTI_Injc-&gt;index<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/<sp/>FTI_Injc-&gt;position<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/<sp/>FTI_Injc-&gt;number<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/<sp/>FTI_Injc-&gt;frequency<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//*<sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/<sp/>FTI_Injc-&gt;counter<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//*<sp/>double<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/<sp/>FTI_Injc-&gt;timer<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=0;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a8c1f0a06b877c18a7270d54c5e6039cf" kindref="member">FTI_SCES</ref>;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal">}</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="251"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="252" refid="tools_8h_1ad7413da2f3a603eb2da996ea201a7665" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1ad7413da2f3a603eb2da996ea201a7665" kindref="member">FTI_Checksum</ref>(<ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref>*<sp/>FTI_Exec,<sp/><ref refid="structFTIT__dataset" kindref="compound">FTIT_dataset</ref>*<sp/>FTI_Data,</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structFTIT__configuration" kindref="compound">FTIT_configuration</ref>*<sp/>FTI_Conf,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>checksum)</highlight></codeline>
<codeline lineno="254"><highlight class="normal">{</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ii<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="fti-intern_8h_1a09a4f4b2f28cbe522d9b80153666029c" kindref="member">MD5_DIGEST_LENGTH</ref>;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(&amp;checksum[ii],<sp/></highlight><highlight class="stringliteral">&quot;%02x&quot;</highlight><highlight class="normal">,<sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a93b6915ba940fb8ac055bd5eb5882d60" kindref="member">integrity</ref>[i]);</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ii<sp/>+=<sp/>2;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a8c1f0a06b877c18a7270d54c5e6039cf" kindref="member">FTI_SCES</ref>;</highlight></codeline>
<codeline lineno="263"><highlight class="normal">}</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="277"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278" refid="tools_8h_1a0abe7d90a75d724af67071b5a672785d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1a0abe7d90a75d724af67071b5a672785d" kindref="member">FTI_VerifyChecksum</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>fileName,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>checksumToCmp)</highlight></codeline>
<codeline lineno="279"><highlight class="normal">{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/>FILE<sp/>*fd<sp/>=<sp/>fopen(fileName,<sp/></highlight><highlight class="stringliteral">&quot;rb&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fd<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>str[<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>];</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(str,<sp/></highlight><highlight class="stringliteral">&quot;FTI<sp/>failed<sp/>to<sp/>open<sp/>file<sp/>%s<sp/>to<sp/>calculate<sp/>checksum.&quot;</highlight><highlight class="normal">,<sp/>fileName);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(str,<sp/><ref refid="fti-intern_8h_1a93eeeef1e283517099194859e3811ea3" kindref="member">FTI_WARN</ref>);</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a06d23a2210e17078a6a8862bb6ed3dbd" kindref="member">FTI_NSCS</ref>;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/>MD5_CTX<sp/>mdContext;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/>MD5_Init<sp/>(&amp;mdContext);</highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bytes;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>data[CHUNK_SIZE];</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((bytes<sp/>=<sp/>fread<sp/>(data,<sp/>1,<sp/>CHUNK_SIZE,<sp/>fd))<sp/>!=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MD5_Update<sp/>(&amp;mdContext,<sp/>data,<sp/>bytes);</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>hash[<ref refid="fti-intern_8h_1a09a4f4b2f28cbe522d9b80153666029c" kindref="member">MD5_DIGEST_LENGTH</ref>];</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>MD5_Final<sp/>(hash,<sp/>&amp;mdContext);</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>checksum[<ref refid="fti-intern_8h_1ab7d658b118c653d9a61ef6adde6a80c7" kindref="member">MD5_DIGEST_STRING_LENGTH</ref>];<sp/><sp/><sp/></highlight><highlight class="comment">//calculated<sp/>checksum</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ii<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="fti-intern_8h_1a09a4f4b2f28cbe522d9b80153666029c" kindref="member">MD5_DIGEST_LENGTH</ref>;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(&amp;checksum[ii],<sp/></highlight><highlight class="stringliteral">&quot;%02x&quot;</highlight><highlight class="normal">,<sp/>hash[i]);</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ii<sp/>+=<sp/>2;</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strcmp(checksum,<sp/>checksumToCmp)<sp/>!=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>str[<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>];</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(str,<sp/></highlight><highlight class="stringliteral">&quot;TOOLS:<sp/>Checksum<sp/>do<sp/>not<sp/>match.<sp/>\&quot;%s\&quot;<sp/>file<sp/>is<sp/>corrupted.<sp/>%s<sp/>!=<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fileName,<sp/>checksum,<sp/>checksumToCmp);</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(str,<sp/><ref refid="fti-intern_8h_1a93eeeef1e283517099194859e3811ea3" kindref="member">FTI_WARN</ref>);</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fclose<sp/>(fd);</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a06d23a2210e17078a6a8862bb6ed3dbd" kindref="member">FTI_NSCS</ref>;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/>fclose<sp/>(fd);</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a8c1f0a06b877c18a7270d54c5e6039cf" kindref="member">FTI_SCES</ref>;</highlight></codeline>
<codeline lineno="321"><highlight class="normal">}</highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="334"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="335" refid="tools_8h_1a950803008f7cef4892fbba9b2069928e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1a950803008f7cef4892fbba9b2069928e" kindref="member">FTI_Try</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>result,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>message)</highlight></codeline>
<codeline lineno="336"><highlight class="normal">{</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>str[<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>];</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="fti_8h_1a8c1f0a06b877c18a7270d54c5e6039cf" kindref="member">FTI_SCES</ref><sp/>||<sp/>result<sp/>==<sp/><ref refid="fti_8h_1a7dee5a1994faa8e4a2664942d4d8c024" kindref="member">FTI_DONE</ref>)<sp/>{</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(str,<sp/></highlight><highlight class="stringliteral">&quot;FTI<sp/>succeeded<sp/>to<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>message);</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(str,<sp/><ref refid="fti-intern_8h_1a299db837571db9e73119d159b3428fe0" kindref="member">FTI_DBUG</ref>);</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(str,<sp/></highlight><highlight class="stringliteral">&quot;FTI<sp/>failed<sp/>to<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>message);</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(str,<sp/><ref refid="fti-intern_8h_1a93eeeef1e283517099194859e3811ea3" kindref="member">FTI_WARN</ref>);</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(str,<sp/></highlight><highlight class="stringliteral">&quot;Error<sp/>=&gt;<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>strerror(errno));</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(str,<sp/><ref refid="fti-intern_8h_1a93eeeef1e283517099194859e3811ea3" kindref="member">FTI_WARN</ref>);</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="349"><highlight class="normal">}</highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="360"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361" refid="tools_8h_1a803fddbbbdc2e160a5cb4249100e8a00" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1a803fddbbbdc2e160a5cb4249100e8a00" kindref="member">FTI_MallocMeta</ref>(<ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref>*<sp/>FTI_Exec,<sp/><ref refid="structFTIT__topology" kindref="compound">FTIT_topology</ref>*<sp/>FTI_Topo)</highlight></codeline>
<codeline lineno="362"><highlight class="normal">{</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FTI_Topo-&gt;<ref refid="structFTIT__topology_1ad44da908f25f84e0dc29086b77b37d8d" kindref="member">amIaHead</ref>)<sp/>{</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>5;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1aaf2a9825676bec1a95a6ce6a1ea5dc06" kindref="member">exists</ref><sp/>=<sp/>calloc(FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab25ad2efd2edfe685bf3a5c8db4a4275" kindref="member">nodeSize</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1ac9e4d9a5ea424695911cbad861ad207b" kindref="member">maxFs</ref><sp/>=<sp/>calloc(FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab25ad2efd2edfe685bf3a5c8db4a4275" kindref="member">nodeSize</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1a72b83c40554bb8606cabdb3e09d21f1a" kindref="member">fs</ref><sp/>=<sp/>calloc(FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab25ad2efd2edfe685bf3a5c8db4a4275" kindref="member">nodeSize</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1a6fa6fc30c05438be2be4e7bf9d8aa2bf" kindref="member">pfs</ref><sp/>=<sp/>calloc(FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab25ad2efd2edfe685bf3a5c8db4a4275" kindref="member">nodeSize</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1af649446726d9d2147f208dee79a75a75" kindref="member">ckptFile</ref><sp/>=<sp/>calloc(<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref><sp/>*<sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab25ad2efd2edfe685bf3a5c8db4a4275" kindref="member">nodeSize</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1abfd4b28cb351b43f5f0d83d06c12c699" kindref="member">currentL4CkptFile</ref><sp/>=<sp/>calloc(<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref><sp/>*<sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab25ad2efd2edfe685bf3a5c8db4a4275" kindref="member">nodeSize</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1ac37464bdb77263ab72dbc31638e0cfdd" kindref="member">nbVar</ref><sp/>=<sp/>calloc(FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab25ad2efd2edfe685bf3a5c8db4a4275" kindref="member">nodeSize</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1aed21e735edbac0db31f09e23eb2e3b2f" kindref="member">varID</ref><sp/>=<sp/>calloc(<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref><sp/>*<sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab25ad2efd2edfe685bf3a5c8db4a4275" kindref="member">nodeSize</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1aa823ffc7331029d058ef43a742309231" kindref="member">varSize</ref><sp/>=<sp/>calloc(<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref><sp/>*<sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab25ad2efd2edfe685bf3a5c8db4a4275" kindref="member">nodeSize</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1a4f560988ed88d861fb53c023a325655d" kindref="member">filePos</ref><sp/>=<sp/>calloc(<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref><sp/>*<sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab25ad2efd2edfe685bf3a5c8db4a4275" kindref="member">nodeSize</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1a778cf3ca25931e378be4f58e0ad5e503" kindref="member">idChar</ref><sp/>=<sp/>calloc(<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>*<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>*FTI_Topo-&gt;<ref refid="structFTIT__topology_1ab25ad2efd2edfe685bf3a5c8db4a4275" kindref="member">nodeSize</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>5;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1aaf2a9825676bec1a95a6ce6a1ea5dc06" kindref="member">exists</ref><sp/>=<sp/>calloc(1,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1ac9e4d9a5ea424695911cbad861ad207b" kindref="member">maxFs</ref><sp/>=<sp/>calloc(1,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1a72b83c40554bb8606cabdb3e09d21f1a" kindref="member">fs</ref><sp/>=<sp/>calloc(1,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1a6fa6fc30c05438be2be4e7bf9d8aa2bf" kindref="member">pfs</ref><sp/>=<sp/>calloc(1,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1af649446726d9d2147f208dee79a75a75" kindref="member">ckptFile</ref><sp/>=<sp/>calloc(<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1abfd4b28cb351b43f5f0d83d06c12c699" kindref="member">currentL4CkptFile</ref><sp/>=<sp/>calloc(<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1ac37464bdb77263ab72dbc31638e0cfdd" kindref="member">nbVar</ref><sp/>=<sp/>calloc(1,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1aed21e735edbac0db31f09e23eb2e3b2f" kindref="member">varID</ref><sp/>=<sp/>calloc(<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1aa823ffc7331029d058ef43a742309231" kindref="member">varSize</ref><sp/>=<sp/>calloc(<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1a4f560988ed88d861fb53c023a325655d" kindref="member">filePos</ref>=<sp/>calloc(<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1a778cf3ca25931e378be4f58e0ad5e503" kindref="member">idChar</ref><sp/>=<sp/>calloc(<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>*<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1adac530c5483b2c64d1553918e2d59e39" kindref="member">metaAlloc</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="394"><highlight class="normal">}</highlight></codeline>
<codeline lineno="395"><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="404"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="405" refid="tools_8h_1a099b42118594b7ec8469348819bfaf93" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1a099b42118594b7ec8469348819bfaf93" kindref="member">FTI_FreeMeta</ref>(<ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref>*<sp/>FTI_Exec)</highlight></codeline>
<codeline lineno="406"><highlight class="normal">{</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FTI_Exec-&gt;<ref refid="structFTIT__execution_1adac530c5483b2c64d1553918e2d59e39" kindref="member">metaAlloc</ref><sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>5;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1aaf2a9825676bec1a95a6ce6a1ea5dc06" kindref="member">exists</ref>);</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1ac9e4d9a5ea424695911cbad861ad207b" kindref="member">maxFs</ref>);</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1a72b83c40554bb8606cabdb3e09d21f1a" kindref="member">fs</ref>);</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1a6fa6fc30c05438be2be4e7bf9d8aa2bf" kindref="member">pfs</ref>);</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1af649446726d9d2147f208dee79a75a75" kindref="member">ckptFile</ref>);</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1ac37464bdb77263ab72dbc31638e0cfdd" kindref="member">nbVar</ref>);</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1aed21e735edbac0db31f09e23eb2e3b2f" kindref="member">varID</ref>);</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1aa823ffc7331029d058ef43a742309231" kindref="member">varSize</ref>);</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1a4f560988ed88d861fb53c023a325655d" kindref="member">filePos</ref>);</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[i].<ref refid="structFTIT__metadata_1a778cf3ca25931e378be4f58e0ad5e503" kindref="member">idChar</ref>);</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1adac530c5483b2c64d1553918e2d59e39" kindref="member">metaAlloc</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="423"><highlight class="normal">}</highlight></codeline>
<codeline lineno="424"><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="434"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="435" refid="tools_8h_1ad41f9b1988730c56c052047cfb3f6283" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1ad41f9b1988730c56c052047cfb3f6283" kindref="member">FTI_InitGroupsAndTypes</ref>(<ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref>*<sp/>FTI_Exec)<sp/></highlight></codeline>
<codeline lineno="436"><highlight class="normal">{</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a6cbf8f36622f495540e6af68525013d6" kindref="member">FTI_Type</ref><sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structFTIT__type" kindref="compound">FTIT_type</ref>*)<sp/>*<sp/><ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>);</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a6cbf8f36622f495540e6af68525013d6" kindref="member">FTI_Type</ref><sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a06d23a2210e17078a6a8862bb6ed3dbd" kindref="member">FTI_NSCS</ref>;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a896039ee736e3c0676fe13df8b1ac345" kindref="member">H5groups</ref><sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structFTIT__H5Group" kindref="compound">FTIT_H5Group</ref>*)<sp/>*<sp/><ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>);</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a896039ee736e3c0676fe13df8b1ac345" kindref="member">H5groups</ref><sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a06d23a2210e17078a6a8862bb6ed3dbd" kindref="member">FTI_NSCS</ref>;</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a896039ee736e3c0676fe13df8b1ac345" kindref="member">H5groups</ref>[0]<sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structFTIT__H5Group" kindref="compound">FTIT_H5Group</ref>));</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a896039ee736e3c0676fe13df8b1ac345" kindref="member">H5groups</ref>[0]<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a06d23a2210e17078a6a8862bb6ed3dbd" kindref="member">FTI_NSCS</ref>;</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a896039ee736e3c0676fe13df8b1ac345" kindref="member">H5groups</ref>[0]-&gt;<ref refid="structFTIT__H5Group_1a3de0568ad296bc36607c871f14f4daa0" kindref="member">id</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a896039ee736e3c0676fe13df8b1ac345" kindref="member">H5groups</ref>[0]-&gt;<ref refid="structFTIT__H5Group_1a20760d6be9ac52ac572b2f253e6c6a42" kindref="member">childrenNo</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/>sprintf(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a896039ee736e3c0676fe13df8b1ac345" kindref="member">H5groups</ref>[0]-&gt;<ref refid="structFTIT__H5Group_1a228de3501b9a2df5b7950342a836749a" kindref="member">name</ref>,<sp/></highlight><highlight class="stringliteral">&quot;/&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a896039ee736e3c0676fe13df8b1ac345" kindref="member">H5groups</ref>[0]-&gt;<ref refid="structFTIT__H5Group_1a4c2782e143b281b771470cff79663db2" kindref="member">fullName</ref>[0]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a2c780326f5e9cefc7f2b5904eca1d318" kindref="member">nbGroup</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a8c1f0a06b877c18a7270d54c5e6039cf" kindref="member">FTI_SCES</ref>;</highlight></codeline>
<codeline lineno="458"><highlight class="normal">}</highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="468"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="469" refid="tools_8h_1a152b83c7a93371bef4f0bcbe34620d6e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1a152b83c7a93371bef4f0bcbe34620d6e" kindref="member">FTI_FreeTypesAndGroups</ref>(<ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref>*<sp/>FTI_Exec)<sp/></highlight></codeline>
<codeline lineno="470"><highlight class="normal">{</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1ae9e0a0b1ee8bd41e2b6251a597b47d26" kindref="member">nbType</ref>;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a6cbf8f36622f495540e6af68525013d6" kindref="member">FTI_Type</ref>[i]-&gt;<ref refid="structFTIT__type_1ae931b22aad8086d44a71e90228406f1e" kindref="member">structure</ref><sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>complex<sp/>type<sp/>and<sp/>have<sp/>structure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a6cbf8f36622f495540e6af68525013d6" kindref="member">FTI_Type</ref>[i]-&gt;<ref refid="structFTIT__type_1ae931b22aad8086d44a71e90228406f1e" kindref="member">structure</ref>);</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a6cbf8f36622f495540e6af68525013d6" kindref="member">FTI_Type</ref>[i]);</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a6cbf8f36622f495540e6af68525013d6" kindref="member">FTI_Type</ref>);</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a2c780326f5e9cefc7f2b5904eca1d318" kindref="member">nbGroup</ref>;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a896039ee736e3c0676fe13df8b1ac345" kindref="member">H5groups</ref>[i]);</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/>free(FTI_Exec-&gt;<ref refid="structFTIT__execution_1a896039ee736e3c0676fe13df8b1ac345" kindref="member">H5groups</ref>);</highlight></codeline>
<codeline lineno="484"><highlight class="normal">}</highlight></codeline>
<codeline lineno="485"><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="495"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="496" refid="tools_8h_1a924446571112185f563d5ec1e386afb1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1a924446571112185f563d5ec1e386afb1" kindref="member">FTI_InitBasicTypes</ref>(<ref refid="structFTIT__dataset" kindref="compound">FTIT_dataset</ref>*<sp/>FTI_Data)</highlight></codeline>
<codeline lineno="497"><highlight class="normal">{</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Data[i].<ref refid="structFTIT__dataset_1ac9c58324a5f443f1ea5804b530f7dab2" kindref="member">id</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fti_8h_1a725ffe84dd16beb533e7b4b74fa4e9c4" kindref="member">FTI_InitType</ref>(&amp;<ref refid="fti_8h_1af384b54744550e2300db530ef46f7e77" kindref="member">FTI_CHAR</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fti_8h_1a725ffe84dd16beb533e7b4b74fa4e9c4" kindref="member">FTI_InitType</ref>(&amp;<ref refid="fti_8h_1a7f97366acb17493ec718fb6086f1ac3c" kindref="member">FTI_SHRT</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">short</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fti_8h_1a725ffe84dd16beb533e7b4b74fa4e9c4" kindref="member">FTI_InitType</ref>(&amp;<ref refid="fti_8h_1ad236df2303494837c97a13741423a51b" kindref="member">FTI_INTG</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fti_8h_1a725ffe84dd16beb533e7b4b74fa4e9c4" kindref="member">FTI_InitType</ref>(&amp;<ref refid="fti_8h_1a29acf773174ad269577b5c771521694a" kindref="member">FTI_LONG</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fti_8h_1a725ffe84dd16beb533e7b4b74fa4e9c4" kindref="member">FTI_InitType</ref>(&amp;<ref refid="fti_8h_1a2a1ee34ef81027534671ee3145a89213" kindref="member">FTI_UCHR</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fti_8h_1a725ffe84dd16beb533e7b4b74fa4e9c4" kindref="member">FTI_InitType</ref>(&amp;<ref refid="fti_8h_1ad00601a105ae08e82837c629b8e55612" kindref="member">FTI_USHT</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fti_8h_1a725ffe84dd16beb533e7b4b74fa4e9c4" kindref="member">FTI_InitType</ref>(&amp;<ref refid="fti_8h_1a1e77437528f3df560360e0626b9a3b89" kindref="member">FTI_UINT</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fti_8h_1a725ffe84dd16beb533e7b4b74fa4e9c4" kindref="member">FTI_InitType</ref>(&amp;<ref refid="fti_8h_1afdc10ccdf5f020d7b0306ecce07f52c1" kindref="member">FTI_ULNG</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fti_8h_1a725ffe84dd16beb533e7b4b74fa4e9c4" kindref="member">FTI_InitType</ref>(&amp;<ref refid="fti_8h_1a39b15455ede057260e435cf49bc3ee6d" kindref="member">FTI_SFLT</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fti_8h_1a725ffe84dd16beb533e7b4b74fa4e9c4" kindref="member">FTI_InitType</ref>(&amp;<ref refid="fti_8h_1aafb3604bd7ebfae406d1c419890e04d8" kindref="member">FTI_DBLE</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="fti_8h_1a725ffe84dd16beb533e7b4b74fa4e9c4" kindref="member">FTI_InitType</ref>(&amp;<ref refid="fti_8h_1acd10e7ef980b4ed3d775bb499cfac8ba" kindref="member">FTI_LDBE</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="513"><highlight class="normal"></highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a8c1f0a06b877c18a7270d54c5e6039cf" kindref="member">FTI_SCES</ref>;</highlight></codeline>
<codeline lineno="515"><highlight class="normal">}</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="529"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="530" refid="tools_8h_1ac4bfe54a9748e8915a5a43c17b334452" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>path[<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>],<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flag)</highlight></codeline>
<codeline lineno="531"><highlight class="normal">{</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flag)<sp/>{</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>str[<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>];</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(str,<sp/></highlight><highlight class="stringliteral">&quot;Removing<sp/>directory<sp/>%s<sp/>and<sp/>its<sp/>files.&quot;</highlight><highlight class="normal">,<sp/>path);</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(str,<sp/><ref refid="fti-intern_8h_1a299db837571db9e73119d159b3428fe0" kindref="member">FTI_DBUG</ref>);</highlight></codeline>
<codeline lineno="536"><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DIR*<sp/>dp<sp/>=<sp/>opendir(path);</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dp<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">dirent*<sp/>ep<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((ep<sp/>=<sp/>readdir(dp))<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>fil[<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>];</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(fil,<sp/></highlight><highlight class="stringliteral">&quot;%s&quot;</highlight><highlight class="normal">,<sp/>ep-&gt;d_name);</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(fil,<sp/><ref refid="fti-intern_8h_1a299db837571db9e73119d159b3428fe0" kindref="member">FTI_DBUG</ref>);</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((strcmp(fil,<sp/></highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal">)<sp/>!=<sp/>0)<sp/>&amp;&amp;<sp/>(strcmp(fil,<sp/></highlight><highlight class="stringliteral">&quot;..&quot;</highlight><highlight class="normal">)<sp/>!=<sp/>0))<sp/>{</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>fn[<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>];</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snprintf(fn,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>,<sp/></highlight><highlight class="stringliteral">&quot;%s/%s&quot;</highlight><highlight class="normal">,<sp/>path,<sp/>fil);</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snprintf(str,<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>,<sp/></highlight><highlight class="stringliteral">&quot;File<sp/>%s<sp/>will<sp/>be<sp/>removed.&quot;</highlight><highlight class="normal">,<sp/>fn);</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(str,<sp/><ref refid="fti-intern_8h_1a299db837571db9e73119d159b3428fe0" kindref="member">FTI_DBUG</ref>);</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(remove(fn)<sp/>==<sp/>-1)<sp/>{</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(errno<sp/>!=<sp/>ENOENT)<sp/>{</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snprintf(str,<sp/><ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Error<sp/>removing<sp/>target<sp/>file<sp/>(%s).&quot;</highlight><highlight class="normal">,<sp/>fn);</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(str,<sp/><ref refid="fti-intern_8h_1a5cb1252ae17ef4ac13b3dbe5a8b1ab13" kindref="member">FTI_EROR</ref>);</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(errno<sp/>!=<sp/>ENOENT)<sp/>{</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(</highlight><highlight class="stringliteral">&quot;Error<sp/>with<sp/>opendir.&quot;</highlight><highlight class="normal">,<sp/><ref refid="fti-intern_8h_1a5cb1252ae17ef4ac13b3dbe5a8b1ab13" kindref="member">FTI_EROR</ref>);</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dp<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>closedir(dp);</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="566"><highlight class="normal"></highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(remove(path)<sp/>==<sp/>-1)<sp/>{</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(errno<sp/>!=<sp/>ENOENT)<sp/>{</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(</highlight><highlight class="stringliteral">&quot;Error<sp/>removing<sp/>target<sp/>directory.&quot;</highlight><highlight class="normal">,<sp/><ref refid="fti-intern_8h_1a5cb1252ae17ef4ac13b3dbe5a8b1ab13" kindref="member">FTI_EROR</ref>);</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a8c1f0a06b877c18a7270d54c5e6039cf" kindref="member">FTI_SCES</ref>;</highlight></codeline>
<codeline lineno="574"><highlight class="normal">}</highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="590"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="591" refid="tools_8h_1a09811bb56f318eab67b3d37bff86cf7f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1a09811bb56f318eab67b3d37bff86cf7f" kindref="member">FTI_Clean</ref>(<ref refid="structFTIT__configuration" kindref="compound">FTIT_configuration</ref>*<sp/>FTI_Conf,<sp/><ref refid="structFTIT__topology" kindref="compound">FTIT_topology</ref>*<sp/>FTI_Topo,</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structFTIT__checkpoint" kindref="compound">FTIT_checkpoint</ref>*<sp/>FTI_Ckpt,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>level)</highlight></codeline>
<codeline lineno="593"><highlight class="normal">{</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nodeFlag;<sp/></highlight><highlight class="comment">//only<sp/>one<sp/>process<sp/>in<sp/>the<sp/>node<sp/>has<sp/>set<sp/>it<sp/>to<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>globalFlag<sp/>=<sp/>!FTI_Topo-&gt;<ref refid="structFTIT__topology_1a3d4083051c43d031972d83cffb242a38" kindref="member">splitRank</ref>;<sp/></highlight><highlight class="comment">//only<sp/>one<sp/>process<sp/>in<sp/>the<sp/>FTI_COMM_WORLD<sp/>has<sp/>set<sp/>it<sp/>to<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="596"><highlight class="normal"></highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/>nodeFlag<sp/>=<sp/>(((!FTI_Topo-&gt;<ref refid="structFTIT__topology_1ad44da908f25f84e0dc29086b77b37d8d" kindref="member">amIaHead</ref>)<sp/>&amp;&amp;<sp/>((FTI_Topo-&gt;<ref refid="structFTIT__topology_1a39761a9bc4ad6d0ca46b7ca82593c175" kindref="member">nodeRank</ref><sp/>-<sp/>FTI_Topo-&gt;<ref refid="structFTIT__topology_1ae6c9d66ebe7506e56262bfdd65628ac8" kindref="member">nbHeads</ref>)<sp/>==<sp/>0))<sp/>||<sp/>(FTI_Topo-&gt;<ref refid="structFTIT__topology_1ad44da908f25f84e0dc29086b77b37d8d" kindref="member">amIaHead</ref>))<sp/>?<sp/>1<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="598"><highlight class="normal"></highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>notDcpFtiff<sp/>=<sp/>!(FTI_Ckpt[4].<ref refid="structFTIT__checkpoint_1a2e5377d7aa3c3342b6d633bb1f3afb70" kindref="member">isDcp</ref><sp/>&amp;&amp;<sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1aae6a605160c14bd0f0174d9aa94b4183" kindref="member">dcpFtiff</ref>);<sp/></highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>notDcp<sp/>=<sp/>!FTI_Ckpt[4].<ref refid="structFTIT__checkpoint_1a2e5377d7aa3c3342b6d633bb1f3afb70" kindref="member">isDcp</ref>;<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="601"><highlight class="normal"></highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(level<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a1ba7082e4d7617485a3d314756e97101" kindref="member">mTmpDir</ref>,<sp/>globalFlag<sp/>&amp;&amp;<sp/>notDcpFtiff<sp/>);</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1ab5c4f469d7c85ea0efe36f891be796fa" kindref="member">gTmpDir</ref>,<sp/>globalFlag<sp/>&amp;&amp;<sp/>notDcp<sp/>);</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a06bfe0fcd4a7ad1e247e1b3d235bfe01" kindref="member">lTmpDir</ref>,<sp/>nodeFlag<sp/>&amp;&amp;<sp/>notDcp<sp/>);</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="607"><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Clean<sp/>last<sp/>checkpoint<sp/>level<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(level<sp/>&gt;=<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(FTI_Ckpt[1].metaDir,<sp/>globalFlag<sp/>&amp;&amp;<sp/>notDcpFtiff<sp/>);</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(FTI_Ckpt[1].dir,<sp/>nodeFlag<sp/>&amp;&amp;<sp/>notDcp<sp/>);</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="613"><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Clean<sp/>last<sp/>checkpoint<sp/>level<sp/>2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(level<sp/>&gt;=<sp/>2)<sp/>{</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(FTI_Ckpt[2].metaDir,<sp/>globalFlag<sp/>&amp;&amp;<sp/>notDcpFtiff<sp/>);</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(FTI_Ckpt[2].dir,<sp/>nodeFlag<sp/>&amp;&amp;<sp/>notDcp<sp/>);</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="619"><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Clean<sp/>last<sp/>checkpoint<sp/>level<sp/>3</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(level<sp/>&gt;=<sp/>3)<sp/>{</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(FTI_Ckpt[3].metaDir,<sp/>globalFlag<sp/>&amp;&amp;<sp/>notDcpFtiff<sp/>);</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(FTI_Ckpt[3].dir,<sp/>nodeFlag<sp/>&amp;&amp;<sp/>notDcp<sp/>);</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="625"><highlight class="normal"></highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Clean<sp/>last<sp/>checkpoint<sp/>level<sp/>4</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>level<sp/>==<sp/>4<sp/>||<sp/>level<sp/>==<sp/>5<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(FTI_Ckpt[4].metaDir,<sp/>globalFlag<sp/>&amp;&amp;<sp/>notDcpFtiff<sp/>);</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(FTI_Ckpt[4].dir,<sp/>globalFlag<sp/>&amp;&amp;<sp/>notDcp<sp/>);</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rmdir(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1ab5c4f469d7c85ea0efe36f891be796fa" kindref="member">gTmpDir</ref>);</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a5e319b258138bbb03d5da9917f99acd6" kindref="member">dcpPosix</ref><sp/>||<sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1aae6a605160c14bd0f0174d9aa94b4183" kindref="member">dcpFtiff</ref>)<sp/>&amp;&amp;<sp/>level<sp/>==<sp/>5<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="tools_8c_1ac4bfe54a9748e8915a5a43c17b334452" kindref="member">FTI_RmDir</ref>(FTI_Ckpt[4].dcpDir,<sp/>!FTI_Topo-&gt;<ref refid="structFTIT__topology_1a3d4083051c43d031972d83cffb242a38" kindref="member">splitRank</ref>);</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="635"><highlight class="normal"></highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>it<sp/>is<sp/>the<sp/>very<sp/>last<sp/>cleaning<sp/>and<sp/>we<sp/>DO<sp/>NOT<sp/>keep<sp/>the<sp/>last<sp/>checkpoint</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(level<sp/>==<sp/>5)<sp/>{</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rmdir(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a06bfe0fcd4a7ad1e247e1b3d235bfe01" kindref="member">lTmpDir</ref>);</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rmdir(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a016dadf213155c54820771627930cb68" kindref="member">localDir</ref>);</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rmdir(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a9f5fdc68c73f688072cc4eb32d1ed9e7" kindref="member">glbalDir</ref>);</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>buf[<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>];</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snprintf(buf,<sp/><ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>,<sp/></highlight><highlight class="stringliteral">&quot;%s/Topology.fti&quot;</highlight><highlight class="normal">,<sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a0a5da07618e9a1963840fc8a2367580c" kindref="member">metadDir</ref>);</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(remove(buf)<sp/>==<sp/>-1)<sp/>{</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(errno<sp/>!=<sp/>ENOENT)<sp/>{</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>remove<sp/>Topology.fti&quot;</highlight><highlight class="normal">,<sp/><ref refid="fti-intern_8h_1a5cb1252ae17ef4ac13b3dbe5a8b1ab13" kindref="member">FTI_EROR</ref>);</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snprintf(buf,<sp/><ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>,<sp/></highlight><highlight class="stringliteral">&quot;%s/Checkpoint.fti&quot;</highlight><highlight class="normal">,<sp/>FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a0a5da07618e9a1963840fc8a2367580c" kindref="member">metadDir</ref>);</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(remove(buf)<sp/>==<sp/>-1)<sp/>{</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(errno<sp/>!=<sp/>ENOENT)<sp/>{</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>remove<sp/>Checkpoint.fti&quot;</highlight><highlight class="normal">,<sp/><ref refid="fti-intern_8h_1a5cb1252ae17ef4ac13b3dbe5a8b1ab13" kindref="member">FTI_EROR</ref>);</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rmdir(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a0a5da07618e9a1963840fc8a2367580c" kindref="member">metadDir</ref>);</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="656"><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>it<sp/>is<sp/>the<sp/>very<sp/>last<sp/>cleaning<sp/>and<sp/>we<sp/>DO<sp/>keep<sp/>the<sp/>last<sp/>checkpoint</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(level<sp/>==<sp/>6)<sp/>{</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rmdir(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a06bfe0fcd4a7ad1e247e1b3d235bfe01" kindref="member">lTmpDir</ref>);</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rmdir(FTI_Conf-&gt;<ref refid="structFTIT__configuration_1a016dadf213155c54820771627930cb68" kindref="member">localDir</ref>);</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="662"><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a8c1f0a06b877c18a7270d54c5e6039cf" kindref="member">FTI_SCES</ref>;</highlight></codeline>
<codeline lineno="664"><highlight class="normal">}</highlight></codeline>
<codeline lineno="665"><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="673"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="674" refid="tools_8c_1a96133f2b1c778f7090abcbc186490b69" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="tools_8c_1a96133f2b1c778f7090abcbc186490b69" kindref="member">FTI_GetHashHexStr</ref>(<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>hash,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>digestWidth,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>hashHexStr<sp/>)</highlight></codeline>
<codeline lineno="675"><highlight class="normal">{<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>hashHexStatic[<ref refid="fti-intern_8h_1ab7d658b118c653d9a61ef6adde6a80c7" kindref="member">MD5_DIGEST_STRING_LENGTH</ref>];</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>hashHexStr<sp/>==<sp/>NULL<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hashHexStr<sp/>=<sp/>hashHexStatic;</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="680"><highlight class="normal"></highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>digestWidth;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(&amp;hashHexStr[2*i],<sp/></highlight><highlight class="stringliteral">&quot;%02x&quot;</highlight><highlight class="normal">,<sp/>hash[i]);</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="685"><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>hashHexStr;</highlight></codeline>
<codeline lineno="687"><highlight class="normal">}</highlight></codeline>
<codeline lineno="688"><highlight class="normal"></highlight></codeline>
<codeline lineno="689"><highlight class="normal"></highlight><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight></codeline>
<codeline lineno="702"><highlight class="comment">/*-------------------------------------------------------------------------*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="703"><highlight class="normal"></highlight></codeline>
<codeline lineno="704" refid="tools_8h_1af04f21cd048b6ecd053b1e9630a79d84" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="tools_8c_1af04f21cd048b6ecd053b1e9630a79d84" kindref="member">FTI_FindVarInMeta</ref>(<ref refid="structFTIT__execution" kindref="compound">FTIT_execution</ref><sp/>*FTI_Exec,<sp/><ref refid="structFTIT__dataset" kindref="compound">FTIT_dataset</ref><sp/>*FTI_Data,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*currentIndex,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*oldIndex){</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i,j;</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[FTI_Exec-&gt;<ref refid="structFTIT__execution_1a19a4f92c1d8dd2c86350f59eb7372ca8" kindref="member">ckptLvel</ref>].<ref refid="structFTIT__metadata_1ac37464bdb77263ab72dbc31638e0cfdd" kindref="member">nbVar</ref>[0];<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>==<sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[FTI_Exec-&gt;<ref refid="structFTIT__execution_1a19a4f92c1d8dd2c86350f59eb7372ca8" kindref="member">ckptLvel</ref>].<ref refid="structFTIT__metadata_1aed21e735edbac0db31f09e23eb2e3b2f" kindref="member">varID</ref>[i])<sp/>{</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*oldIndex<sp/>=<sp/>i;</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>j<sp/>=<sp/>0<sp/>;<sp/>j<sp/>&lt;<sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a97f8b8aebedb2904ad10a18a5a90574f" kindref="member">nbVar</ref>;<sp/>j++){</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>==<sp/>FTI_Data[j].</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">){</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*currentIndex<sp/>=<sp/>j;</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>j<sp/>==<sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a97f8b8aebedb2904ad10a18a5a90574f" kindref="member">nbVar</ref>){</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(</highlight><highlight class="stringliteral">&quot;Variables<sp/>must<sp/>be<sp/>protected<sp/>before<sp/>they<sp/>can<sp/>be<sp/>revoered.&quot;</highlight><highlight class="normal">,<sp/><ref refid="fti-intern_8h_1a5cb1252ae17ef4ac13b3dbe5a8b1ab13" kindref="member">FTI_EROR</ref>);</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1ac879dcdb853f4b5993ceed9fb1d06e88" kindref="member">FTI_NREC</ref>;</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="719"><highlight class="normal"></highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(FTI_Data[j].size<sp/>!=<sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[FTI_Exec-&gt;<ref refid="structFTIT__execution_1a19a4f92c1d8dd2c86350f59eb7372ca8" kindref="member">ckptLvel</ref>].<ref refid="structFTIT__metadata_1aa823ffc7331029d058ef43a742309231" kindref="member">varSize</ref>[i])<sp/>{</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>str[<ref refid="fti_8h_1a4da53a2ca9ef19b414ca7e2522c4864a" kindref="member">FTI_BUFS</ref>];</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(str,<sp/></highlight><highlight class="stringliteral">&quot;Cannot<sp/>recover<sp/>%ld<sp/>bytes<sp/>to<sp/>protected<sp/>variable<sp/>(ID<sp/>%d)<sp/>size:<sp/>%ld&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[FTI_Exec-&gt;<ref refid="structFTIT__execution_1a19a4f92c1d8dd2c86350f59eb7372ca8" kindref="member">ckptLvel</ref>].<ref refid="structFTIT__metadata_1aa823ffc7331029d058ef43a742309231" kindref="member">varSize</ref>[i],<sp/>FTI_Exec-&gt;<ref refid="structFTIT__execution_1a800c2671725989e4b600fb8a62e4145e" kindref="member">meta</ref>[FTI_Exec-&gt;<ref refid="structFTIT__execution_1a19a4f92c1d8dd2c86350f59eb7372ca8" kindref="member">ckptLvel</ref>].<ref refid="structFTIT__metadata_1aed21e735edbac0db31f09e23eb2e3b2f" kindref="member">varID</ref>[i],</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FTI_Data[j].<ref refid="structFTIT__dataset_1a112f9319765938eba3339d86c0e140c9" kindref="member">size</ref>);</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="api_8c_1a691a9e560e92286bb5bc1b5cf2f7b199" kindref="member">FTI_Print</ref>(str,<sp/><ref refid="fti-intern_8h_1a93eeeef1e283517099194859e3811ea3" kindref="member">FTI_WARN</ref>);</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1ac879dcdb853f4b5993ceed9fb1d06e88" kindref="member">FTI_NREC</ref>;</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="fti_8h_1a8c1f0a06b877c18a7270d54c5e6039cf" kindref="member">FTI_SCES</ref>;</highlight></codeline>
<codeline lineno="731"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/home/bscuser/Documents/release/dev/fti/src/tools.c"/>
  </compounddef>
</doxygen>
