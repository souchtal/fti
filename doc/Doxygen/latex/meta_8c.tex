\hypertarget{meta_8c}{}\doxysection{/home/bscuser/\+Documents/release/dev/fti/src/meta.c File Reference}
\label{meta_8c}\index{/home/bscuser/Documents/release/dev/fti/src/meta.c@{/home/bscuser/Documents/release/dev/fti/src/meta.c}}


Metadata functions for the F\+TI library.  


{\ttfamily \#include \char`\"{}interface.\+h\char`\"{}}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
Include dependency graph for meta.\+c\+:
% FIG 0
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{meta_8c_aca5c277b6c86b50f182cfa1326ebb6e1}{F\+T\+I\+\_\+\+Get\+Checksums}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt, char $\ast$checksum, char $\ast$ptner\+Checksum, char $\ast$rs\+Checksum)
\begin{DoxyCompactList}\small\item\em It gets the checksums from metadata. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{meta_8c_aef8bec8995924872533354e23cbe9c55}{F\+T\+I\+\_\+\+Write\+R\+Sed\+Checksum}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt, int rank, char $\ast$checksum)
\begin{DoxyCompactList}\small\item\em It writes the R\+Sed file checksum to metadata. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{meta_8c_a5ed5581a61c8d9ecbf067ce3dee7ae2a}{F\+T\+I\+\_\+\+Load\+Tmp\+Meta}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt)
\begin{DoxyCompactList}\small\item\em It gets the temporary metadata. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{meta_8c_afce9f65bec69ebda8443d7038a762dff}{F\+T\+I\+\_\+\+Load\+Meta}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt)
\begin{DoxyCompactList}\small\item\em It gets the metadata to recover the data after a failure. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{meta_8c_ab085ec4982c28053c8a0c158e83da34d}{F\+T\+I\+\_\+\+Load\+L4\+Ckpt\+Meta\+Data}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt)
\begin{DoxyCompactList}\small\item\em Loads relevant data from checkpoint meta data. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{meta_8c_aa7721e19ddfc87db2b9f661d738cf23f}{F\+T\+I\+\_\+\+Load\+Ckpt\+Meta\+Data}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt)
\begin{DoxyCompactList}\small\item\em Loads relevant data from checkpoint meta data. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{meta_8c_aebd3655df169cee88d8a5324f41cbe3c}{F\+T\+I\+\_\+\+Write\+Ckpt\+Meta\+Data}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt)
\begin{DoxyCompactList}\small\item\em Creates or updates checkpoint meta data. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{meta_8c_ab0c24ce6fea39e0159826a1d3d00647d}{F\+T\+I\+\_\+\+Write\+Metadata}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt, long $\ast$fs, long mfs, char $\ast$fnl, char $\ast$checksums, int $\ast$all\+Var\+I\+Ds, long $\ast$all\+Var\+Sizes, unsigned long $\ast$all\+Layer\+Sizes, char $\ast$all\+Layer\+Hashes, long $\ast$all\+Var\+Positions, char $\ast$all\+Char\+Ids)
\begin{DoxyCompactList}\small\item\em It writes the metadata to recover the data after a failure. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{meta_8c_ae6dfc4ce50cbd1081f52962e5b822ac3}{F\+T\+I\+\_\+\+Create\+Metadata}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt, \mbox{\hyperlink{structFTIT__dataset}{F\+T\+I\+T\+\_\+dataset}} $\ast$F\+T\+I\+\_\+\+Data)
\begin{DoxyCompactList}\small\item\em It writes the metadata to recover the data after a failure. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Metadata functions for the F\+TI library. 

Copyright (c) 2017 Leonardo A. Bautista-\/\+Gomez All rights reserved

F\+TI -\/ A multi-\/level checkpointing library for C/\+C++/\+Fortran applications

Revision 1.\+0 \+: Fault Tolerance Interface (F\+TI)

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met\+:


\begin{DoxyEnumerate}
\item Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
\item Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
\item Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
\end{DoxyEnumerate}

T\+H\+IS S\+O\+F\+T\+W\+A\+RE IS P\+R\+O\+V\+I\+D\+ED BY T\+HE C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+E\+RS A\+ND C\+O\+N\+T\+R\+I\+B\+U\+T\+O\+RS \char`\"{}\+A\+S I\+S\char`\"{} A\+ND A\+NY E\+X\+P\+R\+E\+SS OR I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES, I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, T\+HE I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES OF M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY A\+ND F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE A\+RE D\+I\+S\+C\+L\+A\+I\+M\+ED. IN NO E\+V\+E\+NT S\+H\+A\+LL T\+HE C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+ER OR C\+O\+N\+T\+R\+I\+B\+U\+T\+O\+RS BE L\+I\+A\+B\+LE F\+OR A\+NY D\+I\+R\+E\+CT, I\+N\+D\+I\+R\+E\+CT, I\+N\+C\+I\+D\+E\+N\+T\+AL, S\+P\+E\+C\+I\+AL, E\+X\+E\+M\+P\+L\+A\+RY, OR C\+O\+N\+S\+E\+Q\+U\+E\+N\+T\+I\+AL D\+A\+M\+A\+G\+ES (I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, P\+R\+O\+C\+U\+R\+E\+M\+E\+NT OF S\+U\+B\+S\+T\+I\+T\+U\+TE G\+O\+O\+DS OR S\+E\+R\+V\+I\+C\+ES; L\+O\+SS OF U\+SE, D\+A\+TA, OR P\+R\+O\+F\+I\+TS; OR B\+U\+S\+I\+N\+E\+SS I\+N\+T\+E\+R\+R\+U\+P\+T\+I\+ON) H\+O\+W\+E\+V\+ER C\+A\+U\+S\+ED A\+ND ON A\+NY T\+H\+E\+O\+RY OF L\+I\+A\+B\+I\+L\+I\+TY, W\+H\+E\+T\+H\+ER IN C\+O\+N\+T\+R\+A\+CT, S\+T\+R\+I\+CT L\+I\+A\+B\+I\+L\+I\+TY, OR T\+O\+RT (I\+N\+C\+L\+U\+D\+I\+NG N\+E\+G\+L\+I\+G\+E\+N\+CE OR O\+T\+H\+E\+R\+W\+I\+SE) A\+R\+I\+S\+I\+NG IN A\+NY W\+AY O\+UT OF T\+HE U\+SE OF T\+H\+IS S\+O\+F\+T\+W\+A\+RE, E\+V\+EN IF A\+D\+V\+I\+S\+ED OF T\+HE P\+O\+S\+S\+I\+B\+I\+L\+I\+TY OF S\+U\+CH D\+A\+M\+A\+GE.

\begin{DoxyDate}{Date}
October, 2017 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{meta_8c_ae6dfc4ce50cbd1081f52962e5b822ac3}\label{meta_8c_ae6dfc4ce50cbd1081f52962e5b822ac3}} 
\index{meta.c@{meta.c}!FTI\_CreateMetadata@{FTI\_CreateMetadata}}
\index{FTI\_CreateMetadata@{FTI\_CreateMetadata}!meta.c@{meta.c}}
\doxysubsubsection{\texorpdfstring{FTI\_CreateMetadata()}{FTI\_CreateMetadata()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Create\+Metadata (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt,  }\item[{\mbox{\hyperlink{structFTIT__dataset}{F\+T\+I\+T\+\_\+dataset}} $\ast$}]{F\+T\+I\+\_\+\+Data }\end{DoxyParamCaption})}



It writes the metadata to recover the data after a failure. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Ckpt} & Checkpoint metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Data} & Dataset metadata. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
integer F\+T\+I\+\_\+\+S\+C\+ES if successful.
\end{DoxyReturn}
This function gathers information about the checkpoint files in the group (name and sizes), and creates the metadata file used to recover in case of failure. \mbox{\Hypertarget{meta_8c_aca5c277b6c86b50f182cfa1326ebb6e1}\label{meta_8c_aca5c277b6c86b50f182cfa1326ebb6e1}} 
\index{meta.c@{meta.c}!FTI\_GetChecksums@{FTI\_GetChecksums}}
\index{FTI\_GetChecksums@{FTI\_GetChecksums}!meta.c@{meta.c}}
\doxysubsubsection{\texorpdfstring{FTI\_GetChecksums()}{FTI\_GetChecksums()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Get\+Checksums (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt,  }\item[{char $\ast$}]{checksum,  }\item[{char $\ast$}]{ptner\+Checksum,  }\item[{char $\ast$}]{rs\+Checksum }\end{DoxyParamCaption})}



It gets the checksums from metadata. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Ckpt} & Checkpoint metadata. \\
\hline
{\em checksum} & Pointer to fill the checkpoint checksum. \\
\hline
{\em ptner\+Checksum} & Pointer to fill the ptner file checksum. \\
\hline
{\em rs\+Checksum} & Pointer to fill the RS file checksum. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
integer F\+T\+I\+\_\+\+S\+C\+ES if successful.
\end{DoxyReturn}
This function reads the metadata file created during checkpointing and recovers the checkpoint checksum. If there is no RS file, rs\+Checksum string length is 0. \mbox{\Hypertarget{meta_8c_aa7721e19ddfc87db2b9f661d738cf23f}\label{meta_8c_aa7721e19ddfc87db2b9f661d738cf23f}} 
\index{meta.c@{meta.c}!FTI\_LoadCkptMetaData@{FTI\_LoadCkptMetaData}}
\index{FTI\_LoadCkptMetaData@{FTI\_LoadCkptMetaData}!meta.c@{meta.c}}
\doxysubsubsection{\texorpdfstring{FTI\_LoadCkptMetaData()}{FTI\_LoadCkptMetaData()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Load\+Ckpt\+Meta\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt }\end{DoxyParamCaption})}



Loads relevant data from checkpoint meta data. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Ckpt} & Checkpoint metadata. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{meta_8c_ab085ec4982c28053c8a0c158e83da34d}\label{meta_8c_ab085ec4982c28053c8a0c158e83da34d}} 
\index{meta.c@{meta.c}!FTI\_LoadL4CkptMetaData@{FTI\_LoadL4CkptMetaData}}
\index{FTI\_LoadL4CkptMetaData@{FTI\_LoadL4CkptMetaData}!meta.c@{meta.c}}
\doxysubsubsection{\texorpdfstring{FTI\_LoadL4CkptMetaData()}{FTI\_LoadL4CkptMetaData()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Load\+L4\+Ckpt\+Meta\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt }\end{DoxyParamCaption})}



Loads relevant data from checkpoint meta data. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Ckpt} & Checkpoint metadata. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{meta_8c_afce9f65bec69ebda8443d7038a762dff}\label{meta_8c_afce9f65bec69ebda8443d7038a762dff}} 
\index{meta.c@{meta.c}!FTI\_LoadMeta@{FTI\_LoadMeta}}
\index{FTI\_LoadMeta@{FTI\_LoadMeta}!meta.c@{meta.c}}
\doxysubsubsection{\texorpdfstring{FTI\_LoadMeta()}{FTI\_LoadMeta()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Load\+Meta (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt }\end{DoxyParamCaption})}



It gets the metadata to recover the data after a failure. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Ckpt} & Checkpoint metadata. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
integer F\+T\+I\+\_\+\+S\+C\+ES if successful.
\end{DoxyReturn}
This function reads the metadata file created during checkpointing and recovers the checkpoint file name, file size, partner file size and the size of the largest file in the group (for padding if necessary during decoding). \mbox{\Hypertarget{meta_8c_a5ed5581a61c8d9ecbf067ce3dee7ae2a}\label{meta_8c_a5ed5581a61c8d9ecbf067ce3dee7ae2a}} 
\index{meta.c@{meta.c}!FTI\_LoadTmpMeta@{FTI\_LoadTmpMeta}}
\index{FTI\_LoadTmpMeta@{FTI\_LoadTmpMeta}!meta.c@{meta.c}}
\doxysubsubsection{\texorpdfstring{FTI\_LoadTmpMeta()}{FTI\_LoadTmpMeta()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Load\+Tmp\+Meta (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt }\end{DoxyParamCaption})}



It gets the temporary metadata. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Ckpt} & Checkpoint metadata. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
integer F\+T\+I\+\_\+\+S\+C\+ES if successful.
\end{DoxyReturn}
This function reads the temporary metadata file created during checkpointing and recovers the checkpoint file name, file size, partner file size and the size of the largest file in the group (for padding if necessary during decoding). \mbox{\Hypertarget{meta_8c_aebd3655df169cee88d8a5324f41cbe3c}\label{meta_8c_aebd3655df169cee88d8a5324f41cbe3c}} 
\index{meta.c@{meta.c}!FTI\_WriteCkptMetaData@{FTI\_WriteCkptMetaData}}
\index{FTI\_WriteCkptMetaData@{FTI\_WriteCkptMetaData}!meta.c@{meta.c}}
\doxysubsubsection{\texorpdfstring{FTI\_WriteCkptMetaData()}{FTI\_WriteCkptMetaData()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Write\+Ckpt\+Meta\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt }\end{DoxyParamCaption})}



Creates or updates checkpoint meta data. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Ckpt} & Checkpoint metadata.\\
\hline
\end{DoxyParams}
Writes checkpoint meta data in checkpoint meta data file.
\begin{DoxyItemize}
\item timestamp
\item level
\item number of processes participating in the checkpoint
\item I/O mode
\item d\+CP enabled/disabled 
\end{DoxyItemize}\mbox{\Hypertarget{meta_8c_ab0c24ce6fea39e0159826a1d3d00647d}\label{meta_8c_ab0c24ce6fea39e0159826a1d3d00647d}} 
\index{meta.c@{meta.c}!FTI\_WriteMetadata@{FTI\_WriteMetadata}}
\index{FTI\_WriteMetadata@{FTI\_WriteMetadata}!meta.c@{meta.c}}
\doxysubsubsection{\texorpdfstring{FTI\_WriteMetadata()}{FTI\_WriteMetadata()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Write\+Metadata (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt,  }\item[{long $\ast$}]{fs,  }\item[{long}]{mfs,  }\item[{char $\ast$}]{fnl,  }\item[{char $\ast$}]{checksums,  }\item[{int $\ast$}]{all\+Var\+I\+Ds,  }\item[{long $\ast$}]{all\+Var\+Sizes,  }\item[{unsigned long $\ast$}]{all\+Layer\+Sizes,  }\item[{char $\ast$}]{all\+Layer\+Hashes,  }\item[{long $\ast$}]{all\+Var\+Positions,  }\item[{char $\ast$}]{all\+Char\+Ids }\end{DoxyParamCaption})}



It writes the metadata to recover the data after a failure. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em fs} & Pointer to the list of checkpoint sizes. \\
\hline
{\em mfs} & The maximum checkpoint file size. \\
\hline
{\em fnl} & Pointer to the list of checkpoint names. \\
\hline
{\em checksums} & Checksums array. \\
\hline
{\em all\+Var\+I\+Ds} & I\+Ds of vars from all processes in group. \\
\hline
{\em all\+Var\+Sizes} & Sizes of vars from all processes in group. \\
\hline
{\em all\+Layer\+Sizes} & Sizes of all layers used in dcp. \\
\hline
{\em all\+Layer\+Hashes} & Hashes of all layers used in dcp. \\
\hline
{\em all\+Var\+Positions} & Positions of variables stored in d\+CP. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
integer F\+T\+I\+\_\+\+S\+C\+ES if successful.
\end{DoxyReturn}
This function should be executed only by one process per group. It writes the metadata file used to recover in case of failure. \mbox{\Hypertarget{meta_8c_aef8bec8995924872533354e23cbe9c55}\label{meta_8c_aef8bec8995924872533354e23cbe9c55}} 
\index{meta.c@{meta.c}!FTI\_WriteRSedChecksum@{FTI\_WriteRSedChecksum}}
\index{FTI\_WriteRSedChecksum@{FTI\_WriteRSedChecksum}!meta.c@{meta.c}}
\doxysubsubsection{\texorpdfstring{FTI\_WriteRSedChecksum()}{FTI\_WriteRSedChecksum()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Write\+R\+Sed\+Checksum (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt,  }\item[{int}]{rank,  }\item[{char $\ast$}]{checksum }\end{DoxyParamCaption})}



It writes the R\+Sed file checksum to metadata. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Ckpt} & Checkpoint metadata. \\
\hline
{\em rank} & global rank of the process \\
\hline
{\em checksum} & Pointer to the checksum. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
integer F\+T\+I\+\_\+\+S\+C\+ES if successful.
\end{DoxyReturn}
This function should be executed only by one process per group. It writes the R\+Sed checksum to the metadata file. 