\hypertarget{conf_8c}{}\doxysection{/home/bscuser/\+Documents/release/dev/fti/src/conf.c File Reference}
\label{conf_8c}\index{/home/bscuser/Documents/release/dev/fti/src/conf.c@{/home/bscuser/Documents/release/dev/fti/src/conf.c}}


Configuration loading functions for the F\+TI library.  


{\ttfamily \#include \char`\"{}interface.\+h\char`\"{}}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
Include dependency graph for conf.\+c\+:
% FIG 0
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{conf_8c_a072119e00ecaef96e6b516174beb0321}{F\+T\+I\+\_\+\+Update\+Conf}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, int restart)
\begin{DoxyCompactList}\small\item\em Sets the exec. ID and failure parameters in the conf. file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{conf_8c_a42e37d4585f16c3d958e7825d2d06bd2}{F\+T\+I\+\_\+\+Read\+Conf}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt, \mbox{\hyperlink{structFTIT__injection}{F\+T\+I\+T\+\_\+injection}} $\ast$F\+T\+I\+\_\+\+Inje)
\begin{DoxyCompactList}\small\item\em It reads the configuration given in the configuration file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{conf_8c_a85fa285a8ef0f88312f482f355e0c14c}{F\+T\+I\+\_\+\+Test\+Config}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec)
\begin{DoxyCompactList}\small\item\em It tests that the configuration given is correct. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{conf_8c_a1fd3729e1cd570f4b5944e334ebddce6}{F\+T\+I\+\_\+\+Test\+Directories}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo)
\begin{DoxyCompactList}\small\item\em It tests that the directories given is correct. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{conf_8c_afcc58051e6dc11db94fa1467a9ee0467}{F\+T\+I\+\_\+\+Create\+Dirs}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt)
\begin{DoxyCompactList}\small\item\em It creates the directories required for current execution. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{conf_8c_a89e78abb2e98f65c3d65e2979550e99d}{F\+T\+I\+\_\+\+Load\+Conf}} (\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$F\+T\+I\+\_\+\+Conf, \mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$F\+T\+I\+\_\+\+Exec, \mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$F\+T\+I\+\_\+\+Topo, \mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$F\+T\+I\+\_\+\+Ckpt, \mbox{\hyperlink{structFTIT__injection}{F\+T\+I\+T\+\_\+injection}} $\ast$F\+T\+I\+\_\+\+Inje)
\begin{DoxyCompactList}\small\item\em It reads and tests the configuration given. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Configuration loading functions for the F\+TI library. 

Copyright (c) 2017 Leonardo A. Bautista-\/\+Gomez All rights reserved

F\+TI -\/ A multi-\/level checkpointing library for C/\+C++/\+Fortran applications

Revision 1.\+0 \+: Fault Tolerance Interface (F\+TI)

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met\+:


\begin{DoxyEnumerate}
\item Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
\item Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
\item Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
\end{DoxyEnumerate}

T\+H\+IS S\+O\+F\+T\+W\+A\+RE IS P\+R\+O\+V\+I\+D\+ED BY T\+HE C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+E\+RS A\+ND C\+O\+N\+T\+R\+I\+B\+U\+T\+O\+RS \char`\"{}\+A\+S I\+S\char`\"{} A\+ND A\+NY E\+X\+P\+R\+E\+SS OR I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES, I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, T\+HE I\+M\+P\+L\+I\+ED W\+A\+R\+R\+A\+N\+T\+I\+ES OF M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY A\+ND F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE A\+RE D\+I\+S\+C\+L\+A\+I\+M\+ED. IN NO E\+V\+E\+NT S\+H\+A\+LL T\+HE C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+ER OR C\+O\+N\+T\+R\+I\+B\+U\+T\+O\+RS BE L\+I\+A\+B\+LE F\+OR A\+NY D\+I\+R\+E\+CT, I\+N\+D\+I\+R\+E\+CT, I\+N\+C\+I\+D\+E\+N\+T\+AL, S\+P\+E\+C\+I\+AL, E\+X\+E\+M\+P\+L\+A\+RY, OR C\+O\+N\+S\+E\+Q\+U\+E\+N\+T\+I\+AL D\+A\+M\+A\+G\+ES (I\+N\+C\+L\+U\+D\+I\+NG, B\+UT N\+OT L\+I\+M\+I\+T\+ED TO, P\+R\+O\+C\+U\+R\+E\+M\+E\+NT OF S\+U\+B\+S\+T\+I\+T\+U\+TE G\+O\+O\+DS OR S\+E\+R\+V\+I\+C\+ES; L\+O\+SS OF U\+SE, D\+A\+TA, OR P\+R\+O\+F\+I\+TS; OR B\+U\+S\+I\+N\+E\+SS I\+N\+T\+E\+R\+R\+U\+P\+T\+I\+ON) H\+O\+W\+E\+V\+ER C\+A\+U\+S\+ED A\+ND ON A\+NY T\+H\+E\+O\+RY OF L\+I\+A\+B\+I\+L\+I\+TY, W\+H\+E\+T\+H\+ER IN C\+O\+N\+T\+R\+A\+CT, S\+T\+R\+I\+CT L\+I\+A\+B\+I\+L\+I\+TY, OR T\+O\+RT (I\+N\+C\+L\+U\+D\+I\+NG N\+E\+G\+L\+I\+G\+E\+N\+CE OR O\+T\+H\+E\+R\+W\+I\+SE) A\+R\+I\+S\+I\+NG IN A\+NY W\+AY O\+UT OF T\+HE U\+SE OF T\+H\+IS S\+O\+F\+T\+W\+A\+RE, E\+V\+EN IF A\+D\+V\+I\+S\+ED OF T\+HE P\+O\+S\+S\+I\+B\+I\+L\+I\+TY OF S\+U\+CH D\+A\+M\+A\+GE.

\begin{DoxyDate}{Date}
October, 2017 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{conf_8c_afcc58051e6dc11db94fa1467a9ee0467}\label{conf_8c_afcc58051e6dc11db94fa1467a9ee0467}} 
\index{conf.c@{conf.c}!FTI\_CreateDirs@{FTI\_CreateDirs}}
\index{FTI\_CreateDirs@{FTI\_CreateDirs}!conf.c@{conf.c}}
\doxysubsubsection{\texorpdfstring{FTI\_CreateDirs()}{FTI\_CreateDirs()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Create\+Dirs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt }\end{DoxyParamCaption})}



It creates the directories required for current execution. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Ckpt} & Checkpoint metadata. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
integer F\+T\+I\+\_\+\+S\+C\+ES if successful.
\end{DoxyReturn}
This function creates the temporary metadata, local and global directories required for the current execution. \mbox{\Hypertarget{conf_8c_a89e78abb2e98f65c3d65e2979550e99d}\label{conf_8c_a89e78abb2e98f65c3d65e2979550e99d}} 
\index{conf.c@{conf.c}!FTI\_LoadConf@{FTI\_LoadConf}}
\index{FTI\_LoadConf@{FTI\_LoadConf}!conf.c@{conf.c}}
\doxysubsubsection{\texorpdfstring{FTI\_LoadConf()}{FTI\_LoadConf()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Load\+Conf (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt,  }\item[{\mbox{\hyperlink{structFTIT__injection}{F\+T\+I\+T\+\_\+injection}} $\ast$}]{F\+T\+I\+\_\+\+Inje }\end{DoxyParamCaption})}



It reads and tests the configuration given. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Ckpt} & Checkpoint metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Inje} & Type to describe failure injections in F\+TI. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
integer F\+T\+I\+\_\+\+S\+C\+ES if successful.
\end{DoxyReturn}
This function reads the configuration file. Then test that the configuration parameters are correct (including directories). \mbox{\Hypertarget{conf_8c_a42e37d4585f16c3d958e7825d2d06bd2}\label{conf_8c_a42e37d4585f16c3d958e7825d2d06bd2}} 
\index{conf.c@{conf.c}!FTI\_ReadConf@{FTI\_ReadConf}}
\index{FTI\_ReadConf@{FTI\_ReadConf}!conf.c@{conf.c}}
\doxysubsubsection{\texorpdfstring{FTI\_ReadConf()}{FTI\_ReadConf()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Read\+Conf (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt,  }\item[{\mbox{\hyperlink{structFTIT__injection}{F\+T\+I\+T\+\_\+injection}} $\ast$}]{F\+T\+I\+\_\+\+Inje }\end{DoxyParamCaption})}



It reads the configuration given in the configuration file. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Ckpt} & Checkpoint metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Inje} & Type to describe failure injections in F\+TI. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
integer F\+T\+I\+\_\+\+S\+C\+ES if successful.
\end{DoxyReturn}
This function reads the configuration given in the F\+TI configuration file and sets other required parameters. \mbox{\Hypertarget{conf_8c_a85fa285a8ef0f88312f482f355e0c14c}\label{conf_8c_a85fa285a8ef0f88312f482f355e0c14c}} 
\index{conf.c@{conf.c}!FTI\_TestConfig@{FTI\_TestConfig}}
\index{FTI\_TestConfig@{FTI\_TestConfig}!conf.c@{conf.c}}
\doxysubsubsection{\texorpdfstring{FTI\_TestConfig()}{FTI\_TestConfig()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Test\+Config (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo,  }\item[{\mbox{\hyperlink{structFTIT__checkpoint}{F\+T\+I\+T\+\_\+checkpoint}} $\ast$}]{F\+T\+I\+\_\+\+Ckpt,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec }\end{DoxyParamCaption})}



It tests that the configuration given is correct. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Ckpt} & Checkpoint metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
integer F\+T\+I\+\_\+\+S\+C\+ES if successful.
\end{DoxyReturn}
This function tests the F\+TI configuration to make sure that all parameter\textquotesingle{}s values are correct. \mbox{\Hypertarget{conf_8c_a1fd3729e1cd570f4b5944e334ebddce6}\label{conf_8c_a1fd3729e1cd570f4b5944e334ebddce6}} 
\index{conf.c@{conf.c}!FTI\_TestDirectories@{FTI\_TestDirectories}}
\index{FTI\_TestDirectories@{FTI\_TestDirectories}!conf.c@{conf.c}}
\doxysubsubsection{\texorpdfstring{FTI\_TestDirectories()}{FTI\_TestDirectories()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Test\+Directories (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__topology}{F\+T\+I\+T\+\_\+topology}} $\ast$}]{F\+T\+I\+\_\+\+Topo }\end{DoxyParamCaption})}



It tests that the directories given is correct. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Topo} & Topology metadata. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
integer F\+T\+I\+\_\+\+S\+C\+ES if successful.
\end{DoxyReturn}
This function tests that the directories given in the F\+TI configuration are correct. \mbox{\Hypertarget{conf_8c_a072119e00ecaef96e6b516174beb0321}\label{conf_8c_a072119e00ecaef96e6b516174beb0321}} 
\index{conf.c@{conf.c}!FTI\_UpdateConf@{FTI\_UpdateConf}}
\index{FTI\_UpdateConf@{FTI\_UpdateConf}!conf.c@{conf.c}}
\doxysubsubsection{\texorpdfstring{FTI\_UpdateConf()}{FTI\_UpdateConf()}}
{\footnotesize\ttfamily int F\+T\+I\+\_\+\+Update\+Conf (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFTIT__configuration}{F\+T\+I\+T\+\_\+configuration}} $\ast$}]{F\+T\+I\+\_\+\+Conf,  }\item[{\mbox{\hyperlink{structFTIT__execution}{F\+T\+I\+T\+\_\+execution}} $\ast$}]{F\+T\+I\+\_\+\+Exec,  }\item[{int}]{restart }\end{DoxyParamCaption})}



Sets the exec. ID and failure parameters in the conf. file. 


\begin{DoxyParams}{Parameters}
{\em F\+T\+I\+\_\+\+Conf} & Configuration metadata. \\
\hline
{\em F\+T\+I\+\_\+\+Exec} & Execution metadata. \\
\hline
{\em restart} & Value to set in the conf. file (0 or 1). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
integer F\+T\+I\+\_\+\+S\+C\+ES if successful.
\end{DoxyReturn}
This function sets the execution ID and failure parameters in the configuration file. This is to avoid forcing the user to change these values manually in case of recovery needed. In this way, relaunching the execution in the same way as the initial time will make F\+TI detect that it is a restart. It also allows to set the failure parameter back to 0 at the end of a successful execution. 